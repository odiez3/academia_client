{"version":3,"sources":["properties/index.js","components/login.cmpt.js","components/detailStudent.js","components/searchByName.cmpt.js","components/adicionalForm.cmpt.js","components/buscaAlumno.cmpt.js","components/alumnoForm.cmpt.js","components/MakeColumns.js","components/ExcelReader.js","components/listaAlumnos.cmpt.js","components/infoAlumno/asistencias.cmpt.js","components/infoAlumno/pagosCobros.cmpt.js","components/infoAlumno/adicionales.cmtp.js","components/informacionAlumno.cmpt.js","components/abonoForm.cmpt.js","components/abonos.cmpt.js","components/usersApp.cmpt.js","components/cortes.cmpt.js","components/dashboard.cmpt.js","App.js","serviceWorker.js","index.js","assets/logoAcademia.jpg"],"names":["URL_API","process","REACT_APP_TIPO","console","log","PRICE_WEEKEND","PRICE_MONTH","PRICE_LESSON","PRICE_WEEK","CLASS_DAYS","WEKS_DAYS","MESES","DIAS","Login","state","email","password","errors","submit","event","preventDefault","valido","trim","axios","post","gethash","then","result","localStorage","setItem","JSON","stringify","data","props","history","push","catch","error","response","message","M","toast","html","classes","setState","changeValue","target","value","id","getItem","this","className","onSubmit","src","logo","alt","type","class","onChange","htmlFor","data-error","Component","DetailStudent","student","complete","image","name","logoSinImagen","consecutivo","tel","emergency","observations","methodPayment","ByName","showDetail","students","map","index","onClick","AdicionalForm","concepto","monto","formAdicional","extras","getExtras","submitAdicional","isNaN","_id","reloadExtras","elems","document","getElementById","Modal","init","nextProps","reload","length","Fragment","finished","canceled","key","concept","href","parseFloat","Math","round","amount","toFixed","remaining","BuscaAlumno","searchBy","user","realoadExtras","componentDidMount","parse","submitSearch","rs","getTotalDebt","aplicaAsistencia","date","Date","getDay","priceLesson","indexOf","paidOut","totalDebtLessons","totalDebt","totalDebtLessonsFormat","match","monthPayless","debtLimit","rol","to","path","AlumnoForm","birthday","localUrl","file","formAlumno","UNSAFE_componentWillReceiveProps","toEdit","setTimeout","fch","parseInt","setAttribute","getDate","getMonth","getFullYear","updateTextFields","initDatePicker","dismissible","changeBirthday","changePayment","openFiles","click","submitAlumno","toString","getTime","formData","FormData","append","headers","ri","close","re","changeFile","files","URL","createObjectURL","Datepicker","querySelectorAll","onSelect","yearRange","defaultDate","format","i18n","months","monthsShort","weekdays","weekdaysShort","weekdaysAbbrev","cancel","clear","done","maxLength","checked","hidden","make_cols","refstr","o","C","XLSX","utils","decode_range","e","c","i","encode_col","SheetJSFT","x","join","ExcelReader","cols","handleFile","bind","handleChange","reader","FileReader","rABS","readAsBinaryString","onload","bstr","wb","read","bookVBA","wsname","SheetNames","ws","Sheets","sheet_to_json","readAsArrayBuffer","accept","importar","ListAlumnos","limit","total_items","page","total_pages","next","nextPage","getStudents","editStudent","getInstance","open","more","back","a","ceil","initSelect","getConsecutivo","importarData","forEach","st","Nombre","telEmergencia","fchNac","precioClase","limiteDeuda","observaciones","formaPago","FormSelect","disabled","Asistencias","from","asistencias","changeValues","getAsistencias","res","activeStartDate","defaultActiveStartDate","tileClassName","view","d","assistence","assisted","meses","dias","PagosCobros","pagosCobros","getPagosCobros","f","charge","payment","Adicionales","cancelExtra","InfoAlumno","option","changeOption","Tabs","swipeable","params","status","toLocaleDateString","ComponentToPrint","fecha","mes","dia","anio","weekday","Array","month","totalDebtExtras","totalPagos","pagosRealizados","montoAbono","style","marginBottom","plantillaFecha","textoExtra","getTotalPagos","getTotalExtras","AbonoForm","extraId","abonoExtra","abonoFormo","years","year","printTicket","submitAbono","abonoMensualidad","isMonthly","toPay","abonoForm","currentDate","trigger","content","componentRef","ref","el","clasesDescuentos","suma","lesonPayed","monthPayed","splitMonth","split","total","datesToPrint","count","currentDay","totalDescuento","montly","getMesPayed","getTotalClasesToPay","getTotalClases","getMensualidad","Abonos","asistenciasPorPagar","abonar","adicionales","datesSelected","monthSelected","yearSelected","getDaysInMonth","clickDate","encontro","splice","abonarDates","sort","b","reverse","getUTCMonth","day","getUTCFullYear","dateAssistance","payLesson","lesson","getAsistenciasPorPagar","payMonth","days","dateToPush","setDate","clases","maxWidth","destroy","asistenciasPorPagarCmp","defaultValue","onClickDay","returnValue","tileDisabled","componentLeson","UsersApp","users","current","surname","role","getUsers","get","err","submitUser","test","validateEmail","url","toLowerCase","Cortes","dates","resultados","getData","descarga","responseType","window","Blob","link","createElement","body","appendChild","selectRange","Dashboard","Sidenav","isLogin","data-target","removeItem","component","App","Boolean","location","hostname","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.0931ef52.chunk.js","sourcesContent":["export const URL_API = process.env.REACT_APP_TIPO && process.env.REACT_APP_TIPO === \"local\" ?\n\"http://localhost:3977/api\" :\"http://localhost:3977/api\" \n\nconsole.log(URL_API);\n\nexport const PRICE_WEEKEND = 20.0; /*Precio a partir de Jueves*/ \nexport const PRICE_MONTH = 350.0; /*Precio mensual*/\nexport const PRICE_LESSON = 25.0; /*Precio por clase*/\nexport const PRICE_WEEK = 100.0; /*Precio por semana*/\n\nexport const  CLASS_DAYS = [1, 2, 3];\nexport const WEKS_DAYS = [5,6,0];\nexport const MESES = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\nexport const DIAS = [\"Domingo\", \"Lunes\", \"Martes\", \"Miercoles\", \"Jueves\", \"Viernes\", \"Sábado\"];\n \n export function validateEmail(email) {\n     //var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@(([[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n     var re = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n     return re.test(email);\n }","import React, { Component } from 'react';\nimport M from 'materialize-css';\nimport axios from 'axios';\nimport { URL_API } from '../properties';\nimport logo from '../assets/logoAcademia.jpg'\n\nclass Login extends Component {\n\n    state = {\n        email: \"\",\n        password: \"\",\n        errors: {\n        }\n    }\n\n    componentWillMount(){\n        let user = localStorage.getItem('user');\n        if(user){\n            this.props.history.push('/dashboard');\n        }\n    }\n\n    submit = (event) => {\n        event.preventDefault();\n        let {email,password,errors} = this.state;\n        let valido  = true;\n        if(email.trim() === \"\"){\n            errors.email = \"Ingrese un correo electrónico.\";\n            valido = false;\n        }\n\n        if(password.trim() === \"\"){\n            errors.password = \"Ingrese su contraseña.\";\n            valido = false;\n        }\n\n        if(valido){\n            axios.post(`${URL_API}/login`,{email,password,gethash:true}).then((result)=>{\n                localStorage.setItem('user',JSON.stringify(result.data));\n                this.props.history.push('/dashboard');\n            }).catch((error)=>{\n                if(error.response){\n                    let {data} = error.response;\n\n                    if(data.message){\n                        M.toast({html: data.message,classes: 'red'})\n                    }\n                }\n            });\n        }else{\n            this.setState({errors});\n        }\n    }\n\n    changeValue = (event) => {\n        let { value, id } = event.target;\n        let { errors } = this.state;\n        errors[id] = null;\n        this.setState({ [id]: value, errors });\n    }\n    render() {\n        let { email, password, errors } = this.state;\n\n        return (\n            <div className=\" loginContainer container valign-wrapper\">\n                <form className=\"row z-depth-2 \" onSubmit={this.submit}>\n                    <div className=\"col s12 center-align\">\n                        <img src={logo} className=\"responsive-img logo circle z-depth-2\" alt=\"login\" />\n                    </div>\n                    <div className=\"col s12\">\n                        <h4 className=\"title\">Iniciar Sesión</h4>\n                    </div>\n                    <div className=\"input-field col s12\">\n                        <input id=\"email\" type=\"text\" value={email} class={\n                            ` ${errors.email ? \"invalid\" : \"\"} `\n                        }\n                            onChange={this.changeValue} />\n                        <label htmlFor=\"email\">Correo eléctronico:</label>\n                        <span className=\"helper-text\" data-error={`${errors.email ? errors.email : \"\"}`}></span>\n                    </div>\n                    <div className=\"input-field col s12\">\n                        <input id=\"password\" type=\"password\" value={password} class={\n                            ` ${errors.password ? \"invalid\" : \"\"} `\n                        }\n                            onChange={this.changeValue} />\n                        <label htmlFor=\"password\">Contraseña:</label>\n                        <span className=\"helper-text\" data-error={`${errors.password ? errors.password : \"\"}`}></span>\n                    </div>\n                    <div className=\"input-field col s12 center-align\">\n                        <button className=\"btn waves-effect yellow darken-1 btn-large\">\n                            <i className=\"material-icons right\">send</i>Entrar\n                        </button>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default Login;","import React, { Component } from 'react';\nimport { URL_API } from '../properties';\n\nimport logoSinImagen from '../assets/logoAcademia.jpg';\n\nclass DetailStudent extends Component {\n\n    render() {\n        let { student,complete } = this.props;\n        return (\n            <div className={`${complete ? \"col s12\" : \"col s12 m6 l6 xl6\"}`}>\n                <div className=\"row center-align\">\n                    <div className=\"card horizontal\">\n                        <div className=\"card-image\">\n                            {\n                                !student.image || student.image === \"null\" ? \n                                <img src={logoSinImagen} className=\"responsive-img\" alt={student.name} />\n                                :    <img src={`${URL_API}/get-image-student/${student.image}`} className=\"responsive-img\" \n                                alt={student.name}\n                            />\n                            }\n                           \n                        </div>\n                        <div className=\"card-stacked\">\n                            <div className=\"card-content left-align\">\n                                <p><strong>{student.name}</strong></p>\n                                <p>ID: {student.consecutivo}</p>\n                                <p>Tel: {student.tel}</p>\n                                <p>Contacto: {student.emergency}</p>\n                                <p>Observaciones: {student.observations}</p>\n                                <p>Forma de Pago: \n                                        {\n                                        student.methodPayment === 1 ? \n                                        \" Mensual\" : \n                                        student.methodPayment === 2 ?\n                                        \" Semanal \" : \" Por Clase\"\n                                    }\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default DetailStudent;","import React, { Component } from 'react';\nimport  DetailStudent from './detailStudent';\n\nclass ByName extends Component {\n\n    state = {\n        student:false\n    }\n\n    showDetail = (student) =>{\n     this.setState({student});\n    }\n\n    render() {\n        return (\n            <div className=\"row\">\n                <div className=\"col s12 m6 l6 xl6\">\n                    <ul className=\"collection\">\n                        {\n                            this.props.students.map((value, index) => {\n                            return <li className=\"collection-item\"\n                                onClick={()=>this.showDetail(value)}\n                            >{value.name}</li>\n                            })\n                        }\n                    </ul>\n                </div>\n\n                {\n                    this.state.student ? \n                    <DetailStudent student={this.state.student} />\n                    : null\n                }\n\n            </div>\n        )\n    }\n}\n\nexport default ByName;","import React, { Component } from 'react';\nimport M from 'materialize-css';\nimport axios from 'axios';\nimport { URL_API } from '../properties';\n\nclass AdicionalForm extends Component {\n\n    state = {\n        concepto: \"\",\n        monto: \"\",\n        errors: {},\n        formAdicional: false,\n        extras: []\n    }\n\n\n    componentDidMount() {\n        var elems = document.getElementById('adicionalForm');\n        let formAdicional = M.Modal.init(elems, {});\n\n        this.setState({ formAdicional });\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.student || nextProps.reload) {\n            this.getExtras(nextProps.student._id);\n        }\n\n      \n    }\n\n    getExtras = (id) =>{\n     \n        axios.post(`${URL_API}/getExtras`, { id}).then((response) => {\n       \n            if (response.data) {\n                this.setState({ extras: response.data });\n            }\n        });\n    }\n\n    submitAdicional = (event) => {\n        event.preventDefault();\n        let { concepto, monto, errors } = this.state;\n        let valido = true;\n        if (concepto.trim() === \"\") {\n            valido = false;\n            errors.concepto = \"Ingrese el concepto de pago.\";\n        }\n\n        debugger;\n        if(!isNaN(monto)){\n\n     \n\n        if (monto.trim() === \"\") {\n            valido = false;\n            errors.monto = \"Ingrese el monto del concepto.\";\n        }\n\n        if (valido) {\n          \n            let data = {\n                id: this.props.student._id,\n                monto,\n                concepto\n            };\n\n            axios.post(`${URL_API}/addExtra`, data).then((response) => {\n     \n                console.log(response.data);\n                this.setState({ monto: \"\", concepto: \"\" }, () => {\n                    this.getExtras(this.props.student._id);\n                    this.props.reloadExtras();\n                    M.toast({ html: `${response.data.message} <i class=\"material-icons\">check</i>`, classes: \"green\" });\n                });\n            }).catch((error) => {\n          \n                if (error.response) {\n                    let { message } = error.response.data;\n                    M.toast({ html: message, classes: \"red\" });\n                }\n            });\n        } else {\n            this.setState({ errors });\n        }\n\n    }else{\n        M.toast({ html: `Indique un monto válido.`, classes: \"red\" });\n    }\n    }\n\n    changeValue = (event) => {\n        let { id, value } = event.target;\n        let { errors } = this.state;\n        errors[id] = null;\n\n        this.setState({ [id]: value, errors });\n    }\n\n    render() {\n        let { monto, concepto, errors, extras } = this.state;\n        return (\n            <div id=\"adicionalForm\" className=\"modal\">\n                <div className=\"modal-content\">\n                    <div className=\"row z-depth-2\">\n                        <form className=\"col s12\" onSubmit={this.submitAdicional}>\n                            <div className=\"row\">\n                                <div className=\"col s12\">\n                                    <h6><i className=\"material-icons left\">add_shopping_cart</i>Agregar Adicional</h6>\n                                </div>\n                                <div className=\"col s12\">\n                                    <div className=\"divider\"></div>\n                                </div>\n                                <div className=\"input-field col s12 m6 l6 xl6\">\n                                    <input id=\"concepto\" type=\"text\"\n                                        value={concepto}\n                                        onChange={this.changeValue}\n                                        className={`${errors.concepto ? \"invalid\" : \"\"} `}\n                                    />\n                                    <label htmlFor=\"concepto\">Concepto:</label>\n                                    <span className=\"helper-text\" data-error={errors.concepto}></span>\n                                </div>\n                                <div className=\"input-field col s12 m6 l6 xl6\">\n                                    <input id=\"monto\" type=\"text\"\n                                        value={monto}\n                                        onChange={this.changeValue}\n                                        className={`${errors.monto ? \"invalid\" : \"\"} `}\n                                    />\n                                    <label htmlFor=\"monto\">Monto:</label>\n                                    <span className=\"helper-text\" data-error={errors.monto}></span>\n                                </div>\n                            </div>\n                            <div className=\"row\">\n\n                                <div className=\"col s12 center-align mt-1\">\n                                    <button className=\"btn waves-effect\">Guardar</button>\n                                </div>\n\n                            </div>\n                            {\n                                extras.length  ?\n                                    <React.Fragment>\n                                        <div className=\"row\">\n                                            <div className=\"col s12\">\n                                                <div className=\"divider\"></div>\n                                            </div>\n                                            <div className=\"col s12\">\n                                                <ul className=\"collection with-header\">\n                                                    <li className=\"collection-header\"><h5>Pagos Adicionales</h5>\n                                                    </li>\n                                                    <li className=\"collection-item\">\n                                                    <span className=\"badge red lighten-3 white-text\">Cancelado</span>\n                                                    <span className=\"badge green lighten-2 white-text\">Pagado</span>\n                                                    Info:\n                                                    </li>\n                                                    {\n                                                        extras.map((value, index) => {\n                                                            return (\n                                                                <li  className={`collection-item  ${value.finished ? \"green lighten-2\" : `${value.canceled ? \"red lighten-3 white-text\" : \"\"} `  }`} key={index}>{value.concept}\n                                                                    <a href=\"#!\"className={`secondary-content ${value.finished ? \"black-text\" : `${value.canceled ? \" white-text\" : \"\"} ` }`}>\n                                                                        ${parseFloat(Math.round(value.amount * 100) / 100).toFixed(2)}\n                                                                {!value.finished ? `-(Pendiente ${value.remaining ?\n                                                                        `$${parseFloat(Math.round(value.remaining * 100) / 100).toFixed(2)}`\n                                                                        :\n                                                                        `$${parseFloat(Math.round(value.amount * 100) / 100).toFixed(2)}`\n                                                                    })`: null}\n                                                                    </a>\n                                                                </li>\n                                                            )\n                                                        })\n                                                    }\n\n                                                </ul>\n                                            </div>\n\n                                        </div>\n\n                                    </React.Fragment>\n                                    : null\n                            }\n                        </form>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default AdicionalForm;","import React, { Component } from 'react';\nimport { URL_API, PRICE_WEEKEND, WEKS_DAYS } from '../properties';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport M from 'materialize-css';\n\nimport ByName from './searchByName.cmpt';\nimport DetailStudent from './detailStudent';\nimport AdicionalForm from './adicionalForm.cmpt';\n\n\nclass BuscaAlumno extends Component {\n\n\n    state = {\n        consecutivo: \"\",\n        errors: {},\n        student: false,\n        searchBy: \"ID\",\n        students: false,\n        user: false,\n        realoadExtras: false\n    }\n\n    componentDidMount = () => {\n        let user = localStorage.getItem('user');\n        this.setState({ user: JSON.parse(user) });\n    }\n\n    changeValue = (event) => {\n        let { id, value } = event.target;\n        let { errors } = this.state;\n        errors[id] = null;\n        this.setState({ [id]: value, errors, student: false });\n    }\n    submitSearch = (event) => {\n        event.preventDefault();\n\n        this.setState({ student: false }, () => {\n            let { consecutivo, errors } = this.state;\n            let valido = true;\n            if (consecutivo.trim() === \"\") {\n                errors.consecutivo = \"Ingrese el Número o Nombre del Estudiante.\";\n                valido = false;\n            }\n            if (valido) {\n                if (isNaN(consecutivo)) {\n                    axios.post(`${URL_API}/getStudentByName`, { name: consecutivo }).then((rs) => {\n                        let students = rs.data.students;\n                        this.setState({ students, searchBy: \"NAME\" });\n                    }).catch((error) => {\n                        if (error.response) {\n                            let { data } = error.response;\n                            this.setState({\n                                students: false\n                            });\n                            M.toast({ html: data.message, classes: \"red\" })\n                        }\n                    });\n                } else {\n                    axios.post(`${URL_API}/getStudentByID`, { consecutivo }).then((rs) => {\n                        let student = rs.data;\n                        this.setState({ student, students: false, searchBy: \"ID\" }, () => {\n                            this.getTotalDebt();\n                        });\n                    }).catch((error) => {\n                        console.log(error);\n                        if (error.response) {\n                            let { data } = error.response;\n\n                            M.toast({ html: data.message, classes: \"red\" })\n\n                        }\n                    });\n                }\n\n            } else {\n                this.setState({ errors });\n            }\n        });\n\n    }\n\n    getTotalDebt() {\n        let { student } = this.state;\n        axios.post(`${URL_API}/getTotalDebtLessons`, { id: student._id }).then((result) => {\n            if (result.data) {\n                this.setState({\n                    totalDebtLessons: result.data.totalDebt,\n                    totalDebtLessonsFormat: `$${parseFloat(Math.round(result.data.totalDebt * 100) / 100).toFixed(2)}`\n                })\n            }\n        });\n    }\n\n    realoadExtras = () => {\n        this.setState({ reload: true });\n    }\n\n\n    aplicaAsistencia = () => {\n        let { student } = this.state;\n        // let data = {\n        //     \"id\": student._id,\n        //     \"priceLesson\": student.priceLesson,\n        //     \"methodPayment\": student.methodPayment,\n        //     \"priceWeekend\": PRICE_WEEKEND\n        // }\n        let date = new Date();\n        console.log(date.getDay());\n\n        let data = {\n            \"id\": student._id,\n            \"priceLesson\": student.priceLesson,\n            \"priceWeekend\": PRICE_WEEKEND,\n            \"paidOut\": false,\n            \"assisted\": true\n        }\n\n        console.log(JSON.stringify(data));\n        debugger;\n        if (student.methodPayment === 1 && WEKS_DAYS.indexOf(date.getDay()) === -1) {\n            data.paidOut = true;\n            data.priceLesson = 0;\n        }\n\n\n        axios.post(`${URL_API}/addAssistance`, data).then((response) => {\n            console.log(response);\n            M.toast({ html: `Asistencia aplicada correctamente. <i class=\"material-icons\">check</i>`, classes: \"green\" })\n        }).catch((error) => {\n            debugger;\n            console.log(error);\n            if (error.response) {\n                let { message } = error.response.data;\n                M.toast({ html: message, classes: \"red\" });\n            } else {\n                M.toast({ html: \"Ocurrio un error inesperado.\", classes: \"red\" });\n            }\n        });\n\n\n\n\n    }\n\n\n    render() {\n        let { consecutivo, errors, searchBy, students, student, user, totalDebtLessons } = this.state;\n        let { match } = this.props;\n        return (\n            <div className=\"container mt-1\">\n                <div className=\"row\">\n                    <div className=\"col s12\">\n                        <h4>Buscar Alumno</h4>\n                    </div>\n                    <div className=\"col s12\">\n                        <div className=\"divider\"></div>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <form className=\"col s12\" onSubmit={this.submitSearch}>\n                        <div className=\"row\">\n                            <div className=\"input-field col s12 m12 l6 xl6\">\n                                <i className=\"material-icons prefix\">search</i>\n                                <input id=\"consecutivo\" type=\"text\" value={consecutivo} className={\n                                    ` ${errors.consecutivo ? \"invalid\" : \"\"} `\n                                }\n                                    onChange={this.changeValue}\n                                />\n                                <label htmlFor=\"consecutivo\">Nombre / ID</label>\n                                <span className=\"helper-text\" data-error={`${errors.consecutivo ? errors.consecutivo : \"\"}`}></span>\n                            </div>\n                        </div>\n                    </form>\n                    <div className=\"col s12\">\n                        <div className=\"divider\"></div>\n                    </div>\n                </div>\n\n\n                {\n                    searchBy === \"NAME\" && students ?\n                        <ByName students={students} />\n                        :\n                        searchBy === \"ID\" && student ?\n                            <div className=\"row\">\n                                {\n                                    student.monthPayless ?\n                                        <div className=\"col s12 red darken-1 white-text\">\n                                            <p>Favor de pasar a pagar su mensualidad.</p>\n                                        </div>\n                                        : null\n                                }\n                                {\n                                    totalDebtLessons >= student.debtLimit ?\n                                        <div className=\"col s12 red darken-1 white-text\">\n                                            <p>Favor de liquidar deuda pendiente.</p>\n                                        </div>\n                                        : null\n\n                                }\n                                <DetailStudent student={student} />\n\n                                <div className=\"row\">\n                                    <div className=\"col s12 m6 l6 xl6 center-align mt-1\">\n                                        <button type=\"button\"\n                                            onClick={this.aplicaAsistencia}\n                                            className=\"btn green w-100 waves-effect\" >\n                                            <i className=\"material-icons left\">pan_tool</i>Aplicar Asistencia\n                                                </button>\n                                    </div>\n                                    {\n                                        user.rol === \"ROLE_ADMIN\" ?\n                                            <React.Fragment>\n                                                <div className=\"col s12 m6 l6 xl6 center-align mt-1\">\n                                                    {/* <button type=\"button\"\n                                                    className=\"btn green waves-effect w-100 modal-trigger\" href=\"#abonoModal\" >\n                                                    <i className=\"material-icons left\">attach_money</i>Abonar\n                                                </button> */}\n                                                    <Link to={`${match.path}/abonos/${student.consecutivo}`}\n                                                        className=\"btn green waves-effect w-100 modal-trigger\" >\n                                                        <i className=\"material-icons left\">attach_money</i>Abonar\n                                                </Link>\n                                                </div>\n                                                <div className=\"col s12 m6 l6 xl6 center-align mt-1\">\n                                                    <button type=\"button\"\n                                                        className=\"btn green waves-effect w-100 modal-trigger\" href=\"#adicionalForm\">\n                                                        <i className=\"material-icons left\">add_shopping_cart</i>Agregar Adicional\n                                                </button>\n                                                </div>\n                                                {\n                                                    student ?\n                                                        <div className=\"col s12 m6 l6 xl6 center-align mt-1\">\n                                                            <Link to={`${match.path}/mas/${student.consecutivo}`}\n                                                                className=\"btn green waves-effect w-100 modal-trigger\" >\n                                                                <i className=\"material-icons left\">add</i>Mas\n                                                </Link>\n                                                        </div>\n                                                        : null\n                                                }\n                                            </React.Fragment>\n\n                                            : null\n                                    }\n                                </div>\n\n                            </div>\n                            : null\n                }\n                <AdicionalForm student={student} reload={this.state.reload} reloadExtras={this.realoadExtras} />\n                {/* <AbonoForm student={student} reloadExtras={this.realoadExtras} reload={this.state.reload} /> */}\n            </div>\n        )\n    }\n\n}\n\nexport default BuscaAlumno;\n\n","import React, { Component } from 'react';\nimport M from 'materialize-css';\nimport { PRICE_LESSON, PRICE_MONTH, PRICE_WEEK, URL_API } from '../properties';\nimport axios from 'axios';\n\nclass AlumnoForm extends Component {\n\n\n    state = {\n        name: \"\",\n        id: \"\",\n        image: \"null\",\n        tel: \"\",\n        emergency: \"\",\n        birthday: false,\n        priceLesson: PRICE_MONTH,\n        debtLimit: 0,\n        observations: \"\",\n        methodPayment: 1,\n        errors: {},\n        localUrl: false,\n        file: false,\n        formAlumno: false\n    }\n\n    UNSAFE_componentWillReceiveProps = (nextProps) => {\n        if (nextProps.toEdit) {\n\n            let student = nextProps.toEdit;\n            student.id = student._id;\n            delete student._id;\n            this.setState(student, () => {\n                setTimeout(()=>{\n                    console.log(student.birthday);\n                    let fch = new Date(parseInt(student.birthday));\n                    document.getElementById(\"birthday\").setAttribute('value',\n                    `${fch.getDate()}-${fch.getMonth()+1}-${fch.getFullYear()}`\n                    );\n                    M.updateTextFields();\n                },500)\n          \n                M.updateTextFields();\n                this.initDatePicker();\n            });\n        } else {\n            this.setState({\n                name: \"\", id: \"\", image: \"null\",\n                tel: \"\", emergency: \"\", birthday: \"\",\n                priceLesson: PRICE_MONTH, debtLimit: 0,\n                observations: \"\",\n                methodPayment: 1,\n                errors: {},\n                localUrl: false,\n                file: false,\n            },()=>{\n                document.getElementById(\"birthday\").setAttribute('value',\n                \"\"\n                );\n            })\n        }\n    }\n\n    componentDidMount = () => {\n        var elems = document.getElementById('formAlumno');\n        var formAlumno = M.Modal.init(elems, { dismissible: true });\n        this.setState({ formAlumno });\n        this.initDatePicker();\n    }\n\n    initDatePicker(){\n        M.Datepicker.init(document.querySelectorAll('.datepicker'), {\n            onSelect: this.changeBirthday,\n            yearRange: 70,\n            defaultDate: this.props.student ? new Date(parseInt(this.props.student.birthday)) :  new Date(),\n            format: 'dd-mm-yyyy',\n            i18n: {\n                months: [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"],\n                monthsShort: [\"Ene\", \"Feb\", \"Mar\", \"Abr\", \"May\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Oct\", \"Nov\", \"Dic\"],\n                weekdays: [\"Domingo\", \"Lunes\", \"Martes\", \"Miércoles\", \"Jueves\", \"Viernes\", \"Sábado\"],\n                weekdaysShort: [\"Dom\", \"Lun\", \"Mar\", \"Mie\", \"Jue\", \"Vie\", \"Sab\"],\n                weekdaysAbbrev: [\"D\", \"L\", \"M\", \"M\", \"J\", \"V\", \"S\"],\n                cancel: 'Cancelar',\n                clear: 'Limpar',\n                done: 'Ok'\n            }\n        });\n    }\n\n    changeBirthday = (event) => {\n\n        console.log(event);\n        let { errors } = this.state;\n        errors.birthday = null;\n        this.setState({ birthday: event, errors });\n    }\n\n    changePayment = (event) => {\n        let { value } = event.target;\n        let priceLesson = PRICE_MONTH;\n        switch ((value)) {\n            case \"2\":\n                priceLesson = PRICE_WEEK;\n                break;\n            case \"3\":\n                priceLesson = PRICE_LESSON;\n                break;\n            default:\n                priceLesson = PRICE_MONTH;\n                break;\n        }\n        this.setState({ methodPayment: parseInt(value), priceLesson });\n    }\n\n    changeValue = (event) => {\n        let { id, value } = event.target;\n        let { errors } = this.state;\n        errors[id] = null;\n\n        this.setState({ [id]: value, errors });\n    }\n\n    openFiles = (event) => {\n        document.getElementById('imgUser').click();\n    }\n\n\n    submitAlumno = (event) => {\n        event.preventDefault();\n\n        let { name, id, image, tel, emergency, birthday, priceLesson, debtLimit, observations, methodPayment, errors,  file, formAlumno } = this.state;\n        let valido = true;\n\n        // if (image.trim() === \"\") {\n        //     if (!localUrl) {\n        //         errors.image = \"Elija una imagen para el alumno.\";\n        //     }\n        // }\n        if (name.trim() === \"\") {\n            valido = false;\n            errors.name = \"Ingrese un nombre.\";\n        }\n        if (tel.trim() === \"\") {\n            valido = false;\n            errors.tel = \"Ingrese un teléfono de contacto.\";\n        }\n\n        if (emergency.trim() === \"\") {\n            valido = false;\n            errors.emergency = \"Ingrese un teléfono de emergencia.\";\n        }\n\n        if (!birthday) {\n            valido = false;\n            errors.birthday = \"Ingrese la fecha de nacimiento.\";\n        }\n\n        if (priceLesson.toString().trim() === \"0\" || priceLesson.toString().trim() === \"\") {\n            valido = false;\n            errors.priceLesson = \"Ingrese el precio sugerido para el alumno.\";\n        }\n\n        if (debtLimit.toString().trim() === \"0\" || debtLimit.toString().trim() === \"\") {\n            valido = false;\n            errors.debtLimit = \"Ingrese el límite de deuda para el alumno.\";\n        }\n\n\n\n        if (valido) {\n\n            if(typeof birthday === \"string\"){\n                birthday = new Date(parseInt(birthday))\n            }\n\n            let student = {\n                name: name,\n                image,\n                tel: tel,\n                emergency: emergency,\n                birthday: `${birthday.getTime()}`,\n                priceLesson: parseFloat(priceLesson),\n                debtLimit: parseFloat(debtLimit),\n                observations: observations,\n                methodPayment: parseInt(methodPayment)\n            }\n\n            if (id) {\n                student.id = id;\n            }\n            axios.post(`${URL_API}/addStudent`, student).then((rs) => {\n\n                let data = rs.data;\n\n                if (file) {\n                    let formData = new FormData();\n                    formData.append('image', file);\n\n                    axios.post(`${URL_API}/upload-image-student/${data._id}`,\n                        formData,\n                        {\n                            headers: {\n                                'Content-Type': 'multipart/form-data'\n                            }\n                        }\n                    ).then((ri) => {\n                        M.toast({ html: `Datos Guardados Éxitosamente. <i class=\"material-icons\">check</i>`, classes: \"green\" });\n                        this.props.reload();\n                        document.getElementById('birthday').setAttribute('value',\"\");\n                        formAlumno.close();\n\n                    }).catch((re) => {\n                        M.toast({ html: \"El alumno se genero, pero no se agrego su imagen de perfil.\", classes: \"yellow\" });\n                        this.props.reload();\n                        formAlumno.close();\n\n                    })\n                } else {\n\n                    M.toast({ html: `Datos Guardados Éxitosamente. <i class=\"material-icons\">check</i>`, classes: \"green\" });\n                    this.props.reload();\n                    document.getElementById('birthday').setAttribute('value',\"\");\n                    formAlumno.close();\n\n                }\n\n\n            }).catch((error) => {\n                console.log(error);\n                M.toast({ html: \"No se lograrón guardar los datos.\", classes: \"red\" });\n            });\n\n        } else {\n            this.setState({ errors });\n        }\n\n    }\n\n    changeFile = (event) => {\n\n        console.log(\"hola\");\n        let { files } = event.target;\n        if (files.length) {\n            let { errors } = this.state;\n            errors.image = null;\n            let file = files[0];\n            let localUrl = URL.createObjectURL(file);\n            this.setState({ localUrl, errors, file });\n        }\n\n    }\n\n    render() {\n        let { errors, id, name, image, tel, emergency, priceLesson, localUrl, methodPayment, debtLimit, observations } = this.state;\n        return (\n            <div id=\"formAlumno\" className=\"modal\">\n                <div className=\"modal-content\">\n                    <div className=\"row z-depth-2\">\n                        <div className=\"col s12\">\n                            <h6>{id ? \"Actualizar Alumno\" : \"Agregar Alumnno\"}</h6>\n                        </div>\n                        <div className=\"col s6\">\n                            <div className=\"divider\"></div>\n                        </div>\n                    </div>\n                    <div className=\"row z-depth-2\">\n                        <form className=\"col s12\" onSubmit={this.submitAlumno}>\n                            <div className=\"row mt-1\">\n                                <div className=\"col s12 center-align\">\n                                    {\n                                        image.trim() !== \"null\" || localUrl ?\n\n                                            <img src={\n\n                                                localUrl ?\n                                                    localUrl :\n                                                    `${URL_API}/get-image-student/${image}`\n                                            } className=\"responsive-img imgStudent\" alt=\"imgStudent\" />\n                                            :\n                                            null\n                                    }\n\n                                </div>\n                                <div className=\"col s12 center-align\">\n                                    <button type=\"button\" className=\"btn waves-effect\"\n                                        onClick={this.openFiles}\n                                    >\n                                        <i className=\"material-icons\">\n                                            camera_alt\n                                        </i>\n                                    </button>\n                                </div>\n                                {\n                                    errors.image ?\n                                        <div className=\"col s12 center-align\">\n                                            <p className=\"red-text\" >{errors.image}</p>\n                                        </div>\n                                        : null\n                                }\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"input-field col s12 m6 l6 xl6\">\n                                    <input id=\"name\" type=\"text\"\n                                        value={name}\n                                        onChange={this.changeValue}\n                                        className={`${errors.name ? \"invalid\" : \"\"} `}\n                                    />\n                                    <label htmlFor=\"name\">Nombre Completo:</label>\n                                    <span className=\"helper-text\" data-error={errors.name}></span>\n                                </div>\n\n                                <div className=\"input-field col s12 m6 l6 xl6\">\n                                    <input id=\"tel\" type=\"text\" maxLength=\"10\"\n                                        value={tel}\n                                        onChange={this.changeValue}\n                                        className={`${errors.tel ? \"invalid\" : \"\"} `}\n                                    />\n                                    <label htmlFor=\"tel\">Teléfono:</label>\n                                    <span className=\"helper-text\" data-error={errors.tel}></span>\n                                </div>\n\n                                <div className=\"input-field col s12 m6 l6 xl6\">\n                                    <input id=\"emergency\" type=\"text\" maxLength=\"10\"\n                                        value={emergency}\n                                        onChange={this.changeValue}\n                                        className={`${errors.emergency ? \"invalid\" : \"\"} `}\n                                    />\n                                    <label htmlFor=\"emergency\">Teléfono de emergencia:</label>\n                                    <span className=\"helper-text\" data-error={errors.emergency}></span>\n                                </div>\n\n                                <div className=\"input-field col s12 m6 l6 xl6\">\n                                    <input id=\"birthday\" type=\"text\"\n                                        className={`${errors.birthday ? \"invalid\" : \"\"} datepicker`}\n                                    />\n                                    <label htmlFor=\"birthday\">Fecha de Nacimiento:</label>\n                                    <span className=\"helper-text\" data-error={errors.birthday}></span>\n                                </div>\n                                <div className=\"col s12\">\n                                    <p>Forma de Pago:</p>\n                                    <div className=\"row\">\n                                        <div className=\"col s4\">\n                                            <label>\n                                                <input name=\"payment\" value=\"1\" type=\"radio\" onChange={this.changePayment} checked={methodPayment === 1} />\n                                                <span>Mensual (${parseFloat(Math.round(PRICE_MONTH * 100) / 100).toFixed(2)})</span>\n                                            </label>\n                                        </div>\n                                        <div className=\"col s4\">\n                                            <label>\n                                                <input name=\"payment\" value=\"3\" type=\"radio\" onChange={this.changePayment} checked={methodPayment === 3} />\n                                                <span>Clase (${parseFloat(Math.round(PRICE_LESSON * 100) / 100).toFixed(2)})</span>\n                                            </label>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"input-field col s12 m6 l6 xl6\">\n                                    <input id=\"priceLesson\" type=\"text\"\n                                        value={priceLesson}\n                                        onChange={this.changeValue}\n                                        className={`${errors.priceLesson ? \"invalid\" : \"\"}`}\n                                    />\n                                    <label htmlFor=\"priceLesson\">Precio Sugerido:</label>\n                                    <span className=\"helper-text\" data-error={errors.priceLesson}></span>\n                                </div>\n                                <div className=\"input-field col s12 m6 l6 xl6\">\n                                    <input id=\"debtLimit\" type=\"text\"\n                                        value={debtLimit}\n                                        onChange={this.changeValue}\n                                        className={`${errors.debtLimit ? \"invalid\" : \"\"}`}\n                                    />\n                                    <label htmlFor=\"debtLimit\">LÍmite de Deuda:</label>\n                                    <span className=\"helper-text\" data-error={errors.debtLimit}></span>\n                                </div>\n                                <div className=\"input-field col s12\">\n                                    <textarea id=\"observations\"\n                                        value={observations}\n                                        onChange={this.changeValue}\n                                        className={`${errors.observations ? \"invalid\" : \"\"} materialize-textarea`}\n                                    ></textarea>\n                                    <label htmlFor=\"observations\">Observaciones:</label>\n                                    <span className=\"helper-text\" data-error={errors.observations}></span>\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col s12\">\n                                    <div className=\"divider\"></div>\n                                </div>\n                                <div className=\"col s12 center-align mt-1\">\n                                    <button className=\"btn w-100 green waves-effect\">Guardar</button>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <input type=\"file\" hidden id=\"imgUser\" onChange={this.changeFile}></input>\n            </div>\n        )\n    }\n\n\n}\n\nexport default AlumnoForm;","import XLSX from 'xlsx';\n/* generate an array of column objects */\nexport const make_cols = refstr => {\n\tlet o = [], C = XLSX.utils.decode_range(refstr).e.c + 1;\n\tfor(var i = 0; i < C; ++i) o[i] = {name:XLSX.utils.encode_col(i), key:i}\n\treturn o;\n};\n\nexport const SheetJSFT = [\n\t\"xlsx\", \"xlsb\", \"xlsm\", \"xls\", \"xml\", \"csv\", \"txt\", \"ods\", \"fods\", \"uos\", \"sylk\", \"dif\", \"dbf\", \"prn\", \"qpw\", \"123\", \"wb*\", \"wq*\", \"html\", \"htm\"\n].map(function(x) { return \".\" + x; }).join(\",\");","import React, { Component } from 'react';\n// import { Fabric } from 'office-ui-fabric-react/lib/Fabric';\n// import { DefaultButton } from 'office-ui-fabric-react/lib/Button';\nimport XLSX from 'xlsx';\nimport { make_cols,SheetJSFT } from './MakeColumns';\n \nclass ExcelReader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: {},\n      data: [],\n      cols: []\n    }\n    this.handleFile = this.handleFile.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n \n  handleChange(e) {\n    const files = e.target.files;\n    if (files && files[0]) this.setState({ file: files[0] },()=>{\n        this.handleFile();\n    });\n  };\n \n  handleFile() {\n    /* Boilerplate to set up FileReader */\n    const reader = new FileReader();\n    const rABS = !!reader.readAsBinaryString;\n \n    reader.onload = (e) => {\n      /* Parse data */\n      const bstr = e.target.result;\n      const wb = XLSX.read(bstr, { type: rABS ? 'binary' : 'array', bookVBA : true });\n      /* Get first worksheet */\n      const wsname = wb.SheetNames[0];\n      const ws = wb.Sheets[wsname];\n      /* Convert array of arrays */\n      const data = XLSX.utils.sheet_to_json(ws);\n      /* Update state */\n      this.setState({ data: data, cols: make_cols(ws['!ref']) }, () => {\n        console.log(JSON.stringify(this.state.data, null, 2));\n      });\n \n    };\n \n    if (rABS) {\n      reader.readAsBinaryString(this.state.file);\n    } else {\n      reader.readAsArrayBuffer(this.state.file);\n    };\n  }\n \n  render() {\n    return (\n      <div>\n        <label htmlFor=\"file\">Importar Alumnos</label>\n        <input type=\"file\" className=\"form-control\" id=\"file\" accept={SheetJSFT} onChange={this.handleChange} />\n        {/* <input type='submit' \n          value=\"Process Triggers\"\n          onClick={this.handleFile} /> */}\n\n          {\n              this.state.data.length ? \n\n          <button className=\"btn\" onClick={()=>{\n              this.props.importar(this.state.data);\n          }}>¿Importar {this.state.data.length} alumnos?</button>\n          : null\n          }\n          </div>\n      \n    )\n  }\n}\n \nexport default ExcelReader;","import React, { Component } from 'react';\nimport { URL_API } from '../properties';\nimport axios from 'axios';\nimport M from 'materialize-css';\n\nimport AlumnoForm from './alumnoForm.cmpt';\nimport ExcelReader from './ExcelReader';\n\nclass ListAlumnos extends Component {\n\n\n    state = {\n        students: [],\n        limit: 10,\n        total_items: 0,\n        page: 1,\n        total_pages: 0,\n        consecutivo: \"\",\n        errors: {},\n        searchBy: false,\n        student: false,\n    }\n\n    componentDidMount() {\n        this.initSelect();\n        this.getStudents();\n    }\n\n    initSelect() {\n        var elems = document.querySelectorAll('select');\n        M.FormSelect.init(elems, {});\n    }\n\n    next = () => {\n        let { page, total_pages } = this.state;\n        let nextPage = page + 1;\n        if (nextPage <= total_pages) {\n            this.setState({ page: nextPage }, () => {\n                this.getStudents();\n            });\n        }\n    }\n\n    editStudent = (value, event) => {\n\n        this.setState({ student: value }, () => {\n            let modalIntance = M.Modal.getInstance(document.getElementById('formAlumno'));\n            modalIntance.open();\n        });\n    }\n\n    more = (value, event) => {\n\n        this.props.history.push(`/dashboard/mas/${value.consecutivo}`)\n    }\n\n    back = () => {\n        let { page } = this.state;\n        let nextPage = page - 1;\n        if (nextPage > 0) {\n            this.setState({ page: nextPage }, () => {\n                this.getStudents();\n            });\n        }\n    }\n\n    getStudents = async () => {\n        let { page, limit } = this.state;\n        try {\n            let response = await axios.post(`${URL_API}/students/${page}`, { limit });\n            let { data } = response;\n            let total_pages = Math.ceil(data.total_items / limit);\n            this.setState({ students: data.students, total_items: data.total_items, total_pages, searchBy: false, student: false }, () => {\n                if (!this.state.searchBy) {\n                    this.initSelect();\n                }\n            });\n\n        } catch (error) {\n\n            console.log(error);\n            M.toast({ html: \"Ocurrio un error al cargar los elementos.\", classes: \"red\" });\n        }\n    }\n\n    changeValue = (event) => {\n        let { id, value } = event.target;\n\n        if (id === \"limit\") {\n            value = parseInt(value);\n        }\n        this.setState({ [id]: value }, () => {\n            if (id === \"limit\") {\n                this.getStudents();\n            } else if (id === \"consecutivo\" && value.trim() === \"\") {\n                this.getStudents();\n            }\n        });\n    }\n\n    getConsecutivo = (event) => {\n        event.preventDefault();\n        let { consecutivo, errors } = this.state;\n        let valido = true;\n        if (consecutivo.trim() === \"\") {\n            errors.consecutivo = \"Ingrese el Número o Nombre del Estudiante.\";\n            valido = false;\n        }\n        if (valido) {\n            if (isNaN(consecutivo)) {\n                axios.post(`${URL_API}/getStudentByName`, { name: consecutivo }).then((rs) => {\n\n                    let students = rs.data.students;\n                    this.setState({ students, searchBy: \"NAME\" });\n                }).catch((error) => {\n                    if (error.response) {\n                        let { data } = error.response;\n                        this.setState({\n                            students: false\n                        });\n                        M.toast({ html: data.message, classes: \"red\" })\n                    }\n                });\n            } else {\n\n                axios.post(`${URL_API}/getStudentByID`, { consecutivo }).then((rs) => {\n                    this.setState({ students: [rs.data], searchBy: \"ID\" });\n                }).catch((error) => {\n                    if (error.response) {\n                        let { data } = error.response;\n                        M.toast({ html: data.message, classes: \"red\" })\n                    }\n                });\n            }\n\n        } else {\n            this.setState({ errors });\n        }\n    }\n\n    importarData = (data) => {\n\n        if (data.length > 0) {\n            data.forEach(async (st, index) => {\n                let student = {\n                    name: st.Nombre,\n                    image: \"null\",\n                    tel: st.tel,\n                    emergency: st.telEmergencia,\n                    birthday: `${new Date(st.fchNac).getTime()}`,\n                    priceLesson: parseFloat(st.precioClase),\n                    debtLimit: parseFloat(st.limiteDeuda),\n                    observations: st.observaciones ? st.observaciones : \"\",\n                    methodPayment: st.formaPago === \"CLASE\" ? 3 : 1,\n                    consecutivo: st.consecutivo ? st.consecutivo : index + 1\n                }\n\n                try {\n                    let rs = await axios.post(`${URL_API}/addStudent`, student);\n                    if (rs.data) {\n                        M.toast({ html: `Datos de ${student.name} Guardados Éxitosamente. <i class=\"material-icons\">check</i>`, classes: \"green\" });\n                    }\n                } catch (error) {\n                    console.log(error);\n                    if (error.response) {\n                        M.toast({ html: `${error.response.data.message}`, classes: \"red\" });\n                    } else {\n                        M.toast({ html: `No se lograrón guardar los datos del alumno ${student.name}`, classes: \"red\" });\n                    }\n                }\n\n            });\n        }\n\n    }\n\n\n    render() {\n        let { students, page, total_pages, limit, consecutivo, errors, searchBy } = this.state;\n        return (\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col s6\">\n                        <h4>Alumnos</h4>\n                    </div>\n                    <div className=\"col s6\">\n                        <ExcelReader importar={this.importarData} />\n                    </div>\n                    <div className=\"col s12\">\n                        <div className=\"divider\" />\n                    </div>\n                </div>\n                <div className=\"row\">\n\n                    <form className=\"input-field col s8\" onSubmit={this.getConsecutivo}>\n                        <i className=\"material-icons prefix\">search</i>\n                        <input id=\"consecutivo\" type=\"text\" value={consecutivo} className={\n                            ` ${errors.consecutivo ? \"invalid\" : \"\"} `\n                        }\n                            onChange={this.changeValue}\n                        />\n                        <label htmlFor=\"consecutivo\">Nombre / ID</label>\n                        <span className=\"helper-text\" data-error={`${errors.consecutivo ? errors.consecutivo : \"\"}`}></span>\n                    </form>\n                    <div className=\"col s4 right-align\">\n                        {\n                            !searchBy ?\n\n                                <div className=\"input-field col s12\">\n                                    <select id=\"limit\" value={limit} onChange={this.changeValue}>\n                                        <option value=\"10\">10</option>\n                                        <option value=\"30\">30</option>\n                                        <option value=\"50\">50</option>\n                                    </select>\n                                    <label>No. Registros</label>\n                                </div>\n                                : null\n                        }\n\n                    </div>\n                    <div className=\"col s12\">\n                        <table className=\"highlight\">\n                            <thead>\n                                <tr>\n                                    <th>ID</th>\n                                    <th>Nombre</th>\n                                    <th className=\"center-align\">Acciones</th>\n                                </tr>\n                            </thead>\n\n                            <tbody>\n                                {\n                                    students.length && students.map((value, index) => {\n                                        return <tr key={index}><td>{value.consecutivo}</td><td>{value.name}</td><td className=\"center-align\">\n                                            <button className=\"btn btn-flat waves-effect waves-black\"\n                                                type=\"button\" onClick={this.editStudent.bind(this, value)}\n                                            ><i className=\"material-icons\">edit</i>\n                                            </button>\n                                            <button className=\"btn btn-flat waves-effect waves-black\"\n                                                type=\"button\" onClick={this.more.bind(this, value)}\n                                            ><i className=\"material-icons\">add</i>\n                                            </button></td></tr>;\n                                    })\n                                }\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                {\n                    !searchBy ?\n                        <div className=\"row\">\n                            <div className=\"col s12 center-align\">\n                                <button className=\"btn btn-flat waves-effect waves-black\"\n                                    disabled={page === 1 ? true : false}\n                                    onClick={this.back}\n                                >\n                                    <i className=\"material-icons\">arrow_back</i></button>\n                                <label className=\"black-text\">pág. {page} de {total_pages}</label>\n                                <button className=\"btn btn-flat waves-effect waves-black\"\n                                    onClick={this.next}\n                                    disabled={page === total_pages ? true : false}\n                                ><i className=\"material-icons\">arrow_forward</i>\n                                </button>\n                            </div>\n                        </div>\n\n                        : null\n                }\n                <div className=\"row\">\n                    <div className=\"fixed-action-btn\">\n                        <a className=\"btn-floating btn-large red\" href=\"#!\"\n                            onClick={() => {\n                                this.setState({ student: false }, () => {\n                                    let modalIntance = M.Modal.getInstance(document.getElementById('formAlumno'));\n                                    modalIntance.open();\n                                });\n                            }}\n                        >\n                            <i className=\"large material-icons\">add_circle_outline</i>\n                        </a>\n                    </div>\n                </div>\n\n                <AlumnoForm reload={this.getStudents} toEdit={this.state.student} />\n            </div>\n        )\n    }\n}\n\n\nexport default ListAlumnos;","import React, { Component } from 'react';\nimport { URL_API } from '../../properties';\nimport axios from 'axios';\nimport M from 'materialize-css';\nimport Calendar from 'react-calendar';\nclass Asistencias extends Component {\n\n\n    state = {\n        from: \"\",\n        to: \"\",\n        asistencias: []\n    }\n\n    changeValues = (event) => {\n        let { id, value } = event.target;\n        console.log(value);\n        this.setState({ [id]: value }, () => {\n            this.getAsistencias();\n        });\n    }\n\n\n    getAsistencias = () => {\n\n        let { from, to } = this.state;\n        let { student } = this.props;\n\n        if (from.trim() !== \"\" && to.trim() !== \"\") {\n\n            let data = {\n                \"id\": student._id,\n                \"from\": from,\n                \"to\": to\n            }\n            console.log(data);\n            console.log(JSON.stringify(data));\n\n            axios.post(`${URL_API}/getAssitancesByID`, data).then((res) => {\n                debugger;\n                console.log(res.data.length);\n                console.log(res.data)\n                this.setState({ asistencias: res.data });\n            }).catch((error) => {\n                if (error.response) {\n                    M.toast({ html: error.response.data.message, classes: \"red\" });\n                }\n            })\n        }\n\n\n    }\n\n    render() {\n        let { from, to, asistencias } = this.state;\n        return (\n            <div className=\"row z-depth-2 mt-1\">\n                <div className=\"col s12 mt-1\">\n                    <div className=\"row\">\n                        <div className=\"col s4\">\n                            <p>Pagada sin Asistencia <i className=\"material-icons yellow-text left\">brightness_1</i></p>\n                        </div>\n                        <div className=\"col s4\">\n                            <p>Asistencia <i className=\"material-icons green-text left\">brightness_1</i></p>\n                        </div>\n                        <div className=\"col s4\">\n                            <p>Asistencia por Pagar <i className=\"material-icons red-text left\">brightness_1</i></p>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"input-field col s6\">\n                    <input id=\"from\" type=\"date\" value={from}\n                        onChange={this.changeValues}\n                    />\n                    <label htmlFor=\"from\">Desde:</label>\n                </div>\n                <div className=\"input-field col s6\">\n                    <input id=\"to\" type=\"date\" value={to}\n                        onChange={this.changeValues}\n                    />\n                    <label htmlFor=\"to\">Hasta:</label>\n                </div>\n\n                <div className=\"col s12\">\n                    {\n                        asistencias.length ?\n\n                            <Calendar\n                            activeStartDate={new Date(from)}\n                            defaultActiveStartDate={new Date(from)}\n                                tileClassName={({ activeStartDate, date, view }) => {\n                                    if (view === \"month\") {\n                                        for (var d of this.state.asistencias) {\n                                            let f = new Date(d.assistence);\n\n                                            if (f.getTime() === date.getTime()) {\n                                                if (d.paidOut && d.assisted) {\n                                                    return \"green white-text\"\n                                                }\n\n                                                if (d.paidOut && !d.assisted) {\n                                                    return \"yellow white-text\"\n                                                }\n\n                                                if (!d.paidOut && d.assisted) {\n                                                    return \"red white-text\"\n                                                }\n\n                                            }\n                                        }\n                                    }\n                                }}\n                            />\n\n                            : null\n                    }\n\n                </div>\n\n            </div>\n        )\n    }\n\n}\n\nexport default Asistencias;","import React, { Component } from 'react';\nimport { URL_API } from '../../properties';\nimport axios from 'axios';\nimport M from 'materialize-css';\nconst meses = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\nconst dias = [\"Domingo\", \"Lunes\", \"Martes\", \"Miercoles\", \"Jueves\", \"Viernes\", \"Sábado\"];\n\nclass PagosCobros extends Component {\n\n\n    state = {\n        from: \"\",\n        to: \"\",\n        pagosCobros: []\n    }\n\n    changeValues = (event) => {\n        let { id, value } = event.target;\n\n        console.log(value);\n        this.setState({ [id]: value }, () => {\n            this.getPagosCobros();\n        });\n\n\n    }\n\n\n    getPagosCobros = () => {\n\n        let { from, to } = this.state;\n        let { student } = this.props;\n\n        if (from.trim() !== \"\" && to.trim() !== \"\") {\n\n            let data = {\n                \"id\": student._id,\n                \"from\": from,\n                \"to\": to\n            }\n            console.log(data);\n            console.log(JSON.stringify(data));\n\n            axios.post(`${URL_API}/getPaymentsChargesByStudent`, data).then((res) => {\n                debugger;\n                console.log(res.data.length);\n                console.log(res.data)\n                this.setState({ pagosCobros: res.data });\n            }).catch((error) => {\n                if (error.response) {\n                    M.toast({ html: error.response.data.message, classes: \"red\" });\n                }\n            })\n        }\n\n\n    }\n\n    render() {\n        let { from, to, pagosCobros } = this.state;\n        return (\n            <div className=\"row z-depth-2 mt-1\">\n                <div className=\"input-field col s6\">\n                    <input id=\"from\" type=\"date\" value={from}\n                        onChange={this.changeValues}\n                    />\n                    <label htmlFor=\"from\">Desde:</label>\n                </div>\n                <div className=\"input-field col s6\">\n                    <input id=\"to\" type=\"date\" value={to}\n                        onChange={this.changeValues}\n                    />\n                    <label htmlFor=\"to\">Hasta:</label>\n                </div>\n                <div className=\"col s12\">\n                    {\n                        pagosCobros.length ?\n                            <table>\n                                <thead>\n                                    <tr>\n                                        <th>Fecha</th>\n                                        <th>Cargo</th>\n                                        <th>Abono</th>\n                                        <th>Concepto</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {\n                                        pagosCobros.map((value, index) => {\n                                            debugger;\n                                            console.log(value.concept);\n                                            let f = new Date(value.date);\n                                            let format = dias[f.getDay()] + \" \" + f.getDate() + \" de \" + meses[f.getMonth()] + \" del \" + f.getFullYear() + \" \";//+ f.getHours() + \":\" + f.getMinutes();\n                                            return (<tr key={index}>\n                                                <td>{format}</td>\n                                                <th>{value.charge ? `$${parseFloat(Math.round(value.charge * 100) / 100).toFixed(2)}` : \"\"}</th>\n                                                <th>{value.payment ? `$${parseFloat(Math.round(value.payment * 100) / 100).toFixed(2)}` : \"\"}</th>\n                                                <th>{value.concept? value.concept.concept:\n                                                    !value.concept && value.payment ? \"Abono Clase\" : \"Clase\"\n                                                }</th>\n                                            </tr>)\n                                        })\n                                    }\n                                </tbody>\n                            </table>\n                            : null\n                    }\n\n                </div>\n\n            </div>\n        )\n    }\n\n}\n\nexport default PagosCobros;","import React, { Component } from 'react';\nimport { URL_API } from '../../properties';\nimport axios from 'axios';\nimport AdicionalForm from '../adicionalForm.cmpt';\nimport M from 'materialize-css';\n\nclass Adicionales extends Component {\n\n\n    state = {\n        extras: [],\n        id: false,\n        realoadExtras: false\n    }\n\n    componentDidMount() {\n        debugger;\n        if (this.props.student) {\n            this.setState({ id: this.props.student._id }, () => {\n                this.getExtras();\n            })\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.student || nextProps.reload) {\n            this.setState({ id: nextProps.student._id }, () => {\n                this.getExtras(this.state.id);\n            })\n        }\n    }\n    realoadExtras = () => {\n        this.setState({ reload: true }, () => {\n            this.getExtras();\n        });\n    }\n\n\n    getExtras() {\n        let { id } = this.state;\n        debugger;\n        if (id) {\n            debugger;\n            axios.post(`${URL_API}/getExtras`, { id }).then((response) => {\n                if (response.data) {\n                    this.setState({ extras: response.data });\n                }\n            });\n        }\n    }\n\n    cancelExtra(id) {\n        axios.post(`${URL_API}/cancelExtra`, { id }).then((response) => {\n            M.toast({ html: `Concepto cancelado correctamente. <i class=\"material-icons\">check</i>`, classes: \"green\" });\n            this.getExtras();\n        }).catch((error) => {\n            debugger;\n            console.log(error);\n            if (error.response) {\n                let { message } = error.response.data;\n                M.toast({ html: message, classes: \"red\" });\n            } else {\n                M.toast({ html: \"Ocurrio un error inesperado.\", classes: \"red\" });\n            }\n        });\n    }\n\n    render() {\n        let { extras } = this.state;\n        let { student } = this.props;\n        return (\n            <div className=\"row  mt-1\">\n\n                <React.Fragment>\n                    <div className=\"row\">\n                        <div className=\"col s12\">\n                            <div className=\"divider\"></div>\n                        </div>\n                        <div className=\"col s12\">\n                            <ul className=\"collection with-header\">\n                                <li className=\"collection-header\"><h5>Adicionales</h5>\n                                    <button type=\"button\"\n                                        className=\"btn green waves-effect w-100 modal-trigger\" href=\"#adicionalForm\">\n                                        <i className=\"material-icons left\">add_shopping_cart</i>Agregar Adicional\n                                                </button>\n                                </li>\n                                <li className=\"collection-item\">\n                                    <span className=\"badge red lighten-3 white-text\">Cancelado</span>\n                                    <span className=\"badge green lighten-2 white-text\">Pagado</span>\n                                    Info:\n                                                    </li>\n                                {\n                                    extras.map((value, index) => {\n                                        return (\n                                            <li className={`collection-item  ${value.finished ? \"green lighten-2 white-text\" : `${value.canceled ? \"red lighten-3 white-text\" : \"\"} `}`} key={index}>{value.concept}\n                                                <a href=\"#!\" className={`secondary-content ${value.finished ? \"white-text\" : `${value.canceled ? \" white-text\" : \"\"} `}`}>\n                                                    ${parseFloat(Math.round(value.amount * 100) / 100).toFixed(2)}\n                                                    {!value.finished && !value.canceled ? `-(Pendiente ${value.remaining ?\n                                                        `$${parseFloat(Math.round(value.remaining * 100) / 100).toFixed(2)}`\n                                                        :\n                                                        `$${parseFloat(Math.round(value.amount * 100) / 100).toFixed(2)}`\n                                                        })` : null}\n\n                                                    {!value.finished && !value.canceled ?\n                                                        <i className=\"material-icons right red-text\"\n                                                            onClick={() => {\n                                                                this.cancelExtra(value._id);\n                                                            }}\n                                                        >cancel</i>\n                                                        : null}\n                                                </a>\n                                            </li>\n                                        )\n                                    })\n                                }\n\n                            </ul>\n                        </div>\n\n                    </div>\n\n                </React.Fragment>\n\n                <AdicionalForm student={student} reload={this.state.reload} reloadExtras={this.realoadExtras} />\n            </div>\n        )\n    }\n\n}\n\nexport default Adicionales;","import React, { Component } from 'react';\nimport { URL_API } from '../properties';\nimport axios from 'axios';\nimport M from 'materialize-css';\n\nimport Asistencias from './infoAlumno/asistencias.cmpt';\nimport PagosCobros from './infoAlumno/pagosCobros.cmpt';\nimport Adicionales from './infoAlumno/adicionales.cmtp';\n\nimport logoSinImagen from '../assets/logoAcademia.jpg';\n\nclass InfoAlumno extends Component {\n\n    state = {\n        student: false,\n        option: 1\n    }\n    componentDidMount() {\n\n        M.Tabs.init(document.getElementById('optionsStudent'), { swipeable: true });\n    }\n\n    changeOption = (event) => {\n        let { value } = event.target;\n        this.setState({ option: parseInt(value) });\n    }\n\n\n    componentWillMount() {\n        let { consecutivo } = this.props.match.params;\n        axios.post(`${URL_API}/getStudentByID`, { consecutivo: parseInt(consecutivo) }).then((result) => {\n            if (result.data) {\n                this.setState({ student: result.data });\n            } else {\n                this.props.history.push(`/dashboard`);\n\n            }\n        }).catch((error) => {\n            if (error.response) {\n                if (error.response.status === 404) {\n                    M.toast({ html: error.response.data.message, classes: \"red\" });\n                } else {\n                    M.toast({ html: error.response.data.message, classes: \"red\" });\n                }\n            } else {\n                M.toast({ html: \"No se logro recuperar la información del alumno\", classes: \"red\" });\n            }\n            this.props.history.push(`/dashboard`);\n\n        });\n\n    }\n\n\n    render() {\n        let { student, option } = this.state;\n        console.log(student.image);\n        return (\n            <div className=\"container\">\n                <div className=\"row mt-1\">\n                    <div className=\"col s12 m6 l6 xl6\">\n                        <div className=\"card horizontal\">\n                            <div className=\"card-image\">\n\n                                {\n                                    !student.image || student.image === \"null\" ? \n                                        <img src={logoSinImagen} className=\"responsive-img\" \n                                        alt={student.name} />\n                                    : <img src={`${URL_API}/get-image-student/${student.image}`}\n                                    className=\"responsive-img\"\n                                    alt={student.name} />\n                                }\n                                \n                            </div>\n                            <div className=\"card-content\">\n                                <h5>{student.name}</h5>\n                                <p>ID: {student.consecutivo}</p>\n                                <p>Tel:{student.tel}</p>\n                                <p>Contacto: {student.emergency}</p>\n                                <p>{new Date(parseInt(student.birthday)).toLocaleDateString()}</p>\n                            </div>\n                        </div>\n                    </div>\n                   \n                </div>\n                <div className=\"row\">\n                        {\n                                option === 1 ?\n                                    <div id=\"asistencias\" className=\"col s12\">\n                                        <Asistencias student={student} />\n                                    </div>\n                                    : null\n                                   \n                            }\n                            {\n                                option === 2 ?\n                                <div id=\"pagosCobrosInfo\" className=\"col s12\">\n                                <PagosCobros student={student} />\n                            </div>\n                            : null\n                            }\n                             {\n                                option === 3 ?\n                                <div id=\"adicionalesInfo\" className=\"col s12\">\n                                <Adicionales student={student} />\n                            </div>\n                            : null\n                            }\n                             \n                    </div>\n            </div>\n        )\n    }\n\n}\nexport default InfoAlumno;","import React, { Component } from 'react';\nimport { URL_API } from '../properties';\nimport M from 'materialize-css';\nimport axios from 'axios';\nimport ReactToPrint from 'react-to-print';\n\nclass ComponentToPrint extends Component {\n\n    state={\n        totalDebtLessonsFormat: \"\"\n    }\n\n    getTotalDebt() {\n        axios.post(`${URL_API}/getTotalDebtLessons`, { id: this.props.student._id }).then((result) => {\n            if (result.data) {\n                if(result.data.totalDebt > 0){\n                    this.setState({\n                        totalDebtLessonsFormat: `$${parseFloat(Math.round(result.data.totalDebt * 100) / 100).toFixed(2)}`\n                    })\n                }\n            }\n        });\n    }\n    componentWillReceiveProps(nextProps) {\n        console.log(nextProps);\n        this.getTotalDebt();\n    }\n\n    plantillaFecha(fecha) {\n        let date = fecha;\n        if (typeof fecha === \"string\") {\n\n            if (fecha.trim() !== \"\") {\n                try {\n                    date = new Date(fecha);\n                } catch (error) {\n                    return \"\";\n                }\n\n            } else {\n                return \"\";\n            }\n\n        }\n\n        let mes = date.getMonth();\n        //let dia = date.getDate();\n        let dia = date.getDate();\n        let anio = date.getFullYear();\n\n        var weekday = new Array(7);\n        weekday[0] = \"Lunes\";\n        weekday[1] = \"Martes\";\n        weekday[2] = \"Miercoles\";\n        weekday[3] = \"Jueves\";\n        weekday[4] = \"Viernes\";\n        weekday[5] = \"Sabado\";\n        weekday[6] = \"Domingo\";\n\n        var month = new Array(12);\n        month[0] = \"Ene\";\n        month[1] = \"Feb\";\n        month[2] = \"Mar\";\n        month[3] = \"Abr\";\n        month[4] = \"May\";\n        month[5] = \"Jun\";\n        month[6] = \"Jul\";\n        month[7] = \"Ago\";\n        month[8] = \"Sep\";\n        month[9] = \"Oct\";\n        month[10] = \"Nov\";\n        month[11] = \"Dic\";\n\n\n\n        //return weekday[diaSemana] + \" \"+dia + \" de \" +month[mes] + \" del \" + anio;\n        return dia + \"/\" + month[mes] + \"/\" + anio;\n\n    }\n\n\n    getTotalExtras() {\n        let extras = this.props.extras;\n        let totalDebtExtras = 0;\n        extras.forEach((value, index) => {\n            if (!value.finished && !value.canceled) {\n                if (value.remaining) {\n                    totalDebtExtras += value.remaining;\n                } else {\n                    totalDebtExtras += value.amount;\n                }\n            }\n\n        })\n\n        return totalDebtExtras;\n    }\n\n    getTotalPagos() {\n        let totalPagos = 0;\n\n        if (this.props.data.pagosRealizados.length) {\n            this.props.data.pagosRealizados.forEach((value, index) => {\n                totalPagos += parseFloat(value.montoAbono);\n            });\n        }\n\n        return totalPagos;\n    }\n\n    render() {\n        return (\n            <div className=\"container contentTicket\" style={{ marginBottom: \"30px\" }}>\n                <div className=\"row ticket\">\n                    <div className=\"col s12 left-align\">\n                        <p>Academia Gladiadores</p>\n                        <p>Dirección: Calle Heroes de Tlapacoyan 315</p>\n                        <p>Tel: 225 101 8148</p>\n                        <p>Fecha:{this.plantillaFecha(new Date())}</p>\n                        <p>=================================</p>\n                    </div>\n                </div>\n                <div className=\"row ticket\">\n                    <div className=\"col s12 left-align\">\n                        <p>{this.props.student.name}</p>\n                        <p>ID: {this.props.student.consecutivo}</p>\n                        <p>=================================</p>\n                    </div>\n                </div>\n                <div className=\"row ticket\">\n                    <div className=\"col s12 left-align\">\n                        {\n                            this.props.data.pagosRealizados.map((value, index) => {\n                                return (<p key={index}>{value.textoExtra} --- ${parseFloat(Math.round(value.montoAbono * 100) / 100).toFixed(2)}</p>)\n                            })\n                        }\n                        <p>=================================</p>\n                    </div>\n                </div>\n                <div className=\"row ticket\">\n                    <div className=\"col s12 left-align\">\n                        <p>Total ----- ${parseFloat(Math.round(((this.getTotalPagos())) * 100) / 100).toFixed(2)}</p>\n                        <p>=================================</p>\n                    </div>\n                </div>\n                {\n                    this.getTotalExtras() > 0 ?\n                        <div className=\"row ticket\">\n                            <div className=\"col s12 left-align\">\n\n                                <p>Adicionales por Pagar ----  ${parseFloat(Math.round(this.getTotalExtras() * 100) / 100).toFixed(2)} </p>\n                                <p>=================================</p>\n                            </div>\n                        </div>\n                        : null\n                }\n\n                {\n                    this.state.totalDebtLessonsFormat !== \"\"  ?\n                    <div className=\"row ticket\">\n                            <div className=\"col s12 left-align\">\n\n                                <p>Deuda Clases ---- {this.state.totalDebtLessonsFormat} </p>\n                                <p>=================================</p>\n                            </div>\n                        </div>\n                        : null\n                }\n\n                <div className=\"row ticket\">\n                    <div className=\"col s12 left-align\">\n                        <p>*Este ticket es personal y solo información de tus pagos</p>\n                        <p>*En caso de que el alumno exceda su limite de pago, nos veremos en la penosa necesidad\nde suspender tus clases.</p>\n                        <p>*Por tu comprensión gracias.!!!</p>\n                        <p>**IMPORTANTE: Este ticket no tiene valor fiscal.**</p>\n                    </div>\n                </div>\n            </div>\n\n        );\n    }\n}\n\nclass AbonoForm extends Component {\n\n    state = {\n        extraId: \"\",\n        id: \"\",\n        montoAbono: \"\",\n        abonoExtra: true,\n        errors: {},\n        extras: [],\n        abonoFormo: false,\n        month: false,\n        years: [],\n        year: false,\n        pagosRealizados: [],\n        printTicket: false\n    }\n\n    componentDidMount() {\n        var elems = document.getElementById('abonoModal');\n        var abonoForm = M.Modal.init(elems, { dismissible: true });\n        let currentDate = new Date();\n        let years = [];\n        years.push(currentDate.getFullYear() - 1);\n        years.push(currentDate.getFullYear());\n        this.setState({ abonoForm, years }, () => {\n            if (this.props.student) {\n                this.setState({ id: this.props.student._id }, () => {\n                    this.getExtras(this.props.student._id);\n                });\n            }\n        });\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.student || nextProps.reload) {\n            this.setState({ id: nextProps.student._id }, () => {\n                this.getExtras(this.state.id);\n            })\n        }\n    }\n\n\n    getExtras = (id) => {\n\n        axios.post(`${URL_API}/getExtras`, { id }).then((response) => {\n            if (response.data.length) {\n                debugger;\n                this.setState({ extras: response.data }, () => {\n                    if (this.state.abonoExtra) {\n                        M.FormSelect.init(document.querySelectorAll('select'), {\n                        });\n                    }\n                });\n            }\n        });\n    }\n\n    changeValue = (event) => {\n        let { id, value } = event.target;\n        let { errors } = this.state;\n        errors[id] = null;\n        this.setState({ [id]: value, errors });\n    }\n\n    submitAbono = (event) => {\n        event.preventDefault();\n        let { montoAbono, errors, abonoExtra, extraId, id, abonoMensualidad, month, year, extras } = this.state;\n        let valido = true;\n        if (isNaN(montoAbono) || montoAbono.toString().trim() === \"\") {\n            valido = false;\n            errors.montoAbono = \"Debe ingresar un monto válido.\";\n        }\n        debugger;\n        if (abonoExtra && extraId.trim() === \"\") {\n            valido = false;\n            errors.extraId = \"Elija un concepto a abonar\";\n        }\n\n        if (abonoMensualidad) {\n            if (!month || month.trim() === \"\") {\n                valido = false;\n                errors.month = \"Elija el mes para aplicar la mensualidad.\";\n            }\n            if (!year || year.trim() === \"\") {\n                valido = false;\n                errors.year = \"Elija el año para aplicar la mensualidad.\";\n            }\n        }\n\n        if (valido) {\n            let data = {\n                \"id\": id,\n                \"monto\": parseFloat(montoAbono),\n                \"abonoExtra\": abonoExtra,\n                \"extraId\": extraId\n            }\n            if (abonoMensualidad) {\n\n                data.isMonthly = true;\n                data.month = month;\n                data.year = year;\n\n            }\n            let textoExtra = \"\";\n            extras.forEach((value, index) => {\n                if (value._id === extraId) {\n                    textoExtra = value.concept;\n                }\n            });\n            axios.post(`${URL_API}/addPayment`, data).then((response) => {\n\n                if (response.data) {\n                    let pagosRealizados = this.state.pagosRealizados;\n                    pagosRealizados.push({\n                        montoAbono, textoExtra\n                    })\n                    M.toast({ html: `${response.data.message}<i class=\"material-icons\">check</i>`, classes: \"green\" })\n                    this.setState({ montoAbono: \"\", extraId: \"\", pagosRealizados, printTicket: true }, () => {\n                        this.getExtras(id);\n                        this.props.reloadExtras();\n\n                    });\n                }\n\n            }).catch((error) => {\n                console.log(error);\n                if (error.response) {\n                    debugger;\n                    M.toast({ html: \"Ocurrio algo\", classes: \"red\" });\n                } else {\n                    M.toast({ html: \"Ocurrio un error inesperado.\", classes: \"red\" });\n                }\n\n            });\n        } else {\n            this.setState({ errors });\n        }\n    }\n\n\n    toPay = (event) => {\n        let { value } = event.target;\n        let abonoExtra = false;\n        let abonoMensualidad = false;\n        debugger;\n        switch ((value)) {\n            case \"1\":\n                abonoExtra = false;\n                break;\n\n            case \"3\":\n                abonoMensualidad = true;\n                this.setState({\n                    montoAbono: this.props.student.priceLesson\n                }, () => {\n                    M.updateTextFields();\n                })\n                break;\n            default:\n                abonoExtra = true;\n                break;\n        }\n        this.setState({ abonoExtra, abonoMensualidad }, () => {\n            if (abonoExtra || abonoMensualidad) {\n                M.FormSelect.init(document.querySelectorAll('select'), {\n                });\n            }\n        });\n    }\n\n\n    render() {\n\n        let { abonoExtra, extras, extraId, montoAbono, errors, abonoMensualidad, month, year, years } = this.state;\n        if (!extras.length) {\n            return <h4>No cuenta con adicionales.</h4>\n        }\n        return (\n            <div id=\"abonoModal\" className=\"\">\n                <div className=\"\">\n                    <div className=\"divider\"></div>\n\n                    <div className=\"row z-depth-2\">\n                        <form onSubmit={this.submitAbono} className=\"col s12\">\n                            <div className=\"col s12 \">\n                                <p>¿Qué vamos a abonar?</p>\n                                <div className=\"row\">\n                                    <div className=\"col s6\">\n                                        {/* <label>\n                                            <input name=\"payment\" value=\"1\" type=\"radio\" onChange={this.toPay} checked={abonoExtra === false && abonoMensualidad === false} />\n                                            <span>Clase</span>\n                                        </label> */}\n                                        <label hidden={extras.length}>\n                                            <input name=\"payment\" value=\"2\" type=\"radio\" onChange={this.toPay} checked={abonoExtra} />\n                                            <span>Extra</span>\n                                        </label>\n                                        {/* {\n                                            this.props.student.methodPayment === 1 ?\n                                                <label>\n                                                    <input name=\"payment\" value=\"3\" type=\"radio\" onChange={this.toPay} checked={abonoMensualidad} />\n                                                    <span>Mensualidad</span>\n                                                </label>\n                                                : null\n                                        } */}\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"col s12\">\n                                <div className=\"input-field col s12 m6 l6 xl6\">\n                                    <input id=\"montoAbono\" type=\"text\"\n                                        value={montoAbono}\n                                        onChange={this.changeValue}\n                                        className={`${errors.montoAbono ? \"invalid\" : \"\"} `}\n                                    />\n                                    <label htmlFor=\"montoAbono\">Monto a abonar:</label>\n                                    <span className=\"helper-text\" data-error={errors.montoAbono}></span>\n                                </div>\n                                {\n                                    abonoExtra ?\n                                        <div className=\"input-field col s12 m6 l6 xl6\">\n                                            <select onChange={this.changeValue} id=\"extraId\"\n                                                className={`${errors.monto ? \"invalid\" : \"\"} `}\n                                                value={extraId}\n                                            >\n                                                <option value=\"\" disabled>Conceptos:</option>\n                                                {\n                                                    extras.map((value, index) => {\n                                                        if (!value.finished && !value.canceled) {\n                                                            return (\n                                                                <option value={value._id} key={index}>\n                                                                    {value.concept} - (Pendiente {value.remaining ?\n                                                                        `$${parseFloat(Math.round(value.remaining * 100) / 100).toFixed(2)}`\n                                                                        :\n                                                                        `$${parseFloat(Math.round(value.amount * 100) / 100).toFixed(2)}`\n                                                                    })\n                                                                </option>\n                                                            )\n                                                        } else {\n                                                            return null;\n                                                        }\n\n\n                                                    })\n                                                }\n                                            </select>\n                                            <label>Elija un concepto</label>\n                                            <span className=\"red-text\">{errors.extraId}</span>\n                                        </div>\n                                        : null\n                                }\n                                {\n                                    abonoMensualidad ?\n                                        <div className=\"input-field col s12 m3 l3 xl3\">\n                                            <select onChange={this.changeValue} id=\"month\"\n                                                className={`${errors.month ? \"invalid\" : \"\"} `}\n                                                value={month}\n                                            >\n                                                <option value=\"\">Elija una opción</option>\n                                                <option value=\"1\">Enero</option>\n                                                <option value=\"2\">Febrero</option>\n                                                <option value=\"3\">Marzo</option>\n                                                <option value=\"4\">Abril</option>\n                                                <option value=\"5\">Mayo</option>\n                                                <option value=\"6\">Junio</option>\n                                                <option value=\"7\">Julio</option>\n                                                <option value=\"8\">Agosto</option>\n                                                <option value=\"9\">Septiembre</option>\n                                                <option value=\"10\">Octubre</option>\n                                                <option value=\"11\">Noviembre</option>\n                                                <option value=\"12\">Diciembre</option>\n                                            </select>\n                                            <span className=\"red-text\">{errors.month}</span>\n                                        </div>\n                                        : null\n                                }\n                                {\n                                    abonoMensualidad ?\n                                        <div className=\"input-field col s12 m3 l3 xl3\">\n                                            <select onChange={this.changeValue} id=\"year\"\n                                                className={`${errors.year ? \"invalid\" : \"\"} `}\n                                                value={year}\n                                            >\n                                                <option value=\"\">Elija una opción</option>\n                                                {\n                                                    years.map((value, index) => {\n                                                        return (\n                                                            <option value={value}\n                                                                key={index}\n                                                            >{value}</option>\n                                                        )\n                                                    })\n                                                }\n                                            </select>\n                                            <span className=\"red-text\">{errors.year}</span>\n                                        </div>\n                                        : null\n                                }\n                                <div className=\"col s12 center-align mb-1\">\n                                    <button className=\"btn green w-100 waves-effect\">Aplicar</button>\n                                </div>\n                            </div>\n                            {\n                                this.state.printTicket && this.state.pagosRealizados.length ?\n                                    <div className=\"col s12\">\n                                        <ReactToPrint\n                                            trigger={() => <a href=\"#!\">Imprimir Ticket</a>}\n                                            content={() => this.componentRef}\n                                        />\n                                        <ComponentToPrint ref={el => (this.componentRef = el)}\n                                            data={this.state} student={this.props.student}\n                                            extras={extras}\n                                        />\n                                    </div>\n\n                                    : null\n                            }\n\n                        </form>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default AbonoForm;","import React, { Component } from 'react';\nimport { URL_API, MESES, DIAS, PRICE_WEEKEND, CLASS_DAYS } from '../properties';\nimport axios from 'axios';\nimport M from 'materialize-css';\nimport Calendar from 'react-calendar';\nimport 'react-calendar/dist/Calendar.css';\nimport logoSinImagen from '../assets/logoAcademia.jpg';\nimport Adicionales from '../components/infoAlumno/adicionales.cmtp';\nimport AbonoForm from './abonoForm.cmpt';\nimport ReactToPrint from \"react-to-print\";\n\n\nclass ComponentToPrint extends Component {\n    state = {\n        clasesDescuentos: [],\n    }\n\n\n    plantillaFecha(fecha) {\n        let date = fecha;\n        if (typeof fecha === \"string\") {\n\n            if (fecha.trim() !== \"\") {\n                try {\n                    date = new Date(fecha);\n                } catch (error) {\n                    return \"\";\n                }\n\n            } else {\n                return \"\";\n            }\n\n        }\n        let mes = date.getMonth();\n        //let dia = date.getDate();\n        let dia = date.getDate();\n        let anio = date.getFullYear();\n        var weekday = new Array(7);\n        weekday[0] = \"Lunes\";\n        weekday[1] = \"Martes\";\n        weekday[2] = \"Miercoles\";\n        weekday[3] = \"Jueves\";\n        weekday[4] = \"Viernes\";\n        weekday[5] = \"Sabado\";\n        weekday[6] = \"Domingo\";\n        var month = new Array(12);\n        month[0] = \"Ene\";\n        month[1] = \"Feb\";\n        month[2] = \"Mar\";\n        month[3] = \"Abr\";\n        month[4] = \"May\";\n        month[5] = \"Jun\";\n        month[6] = \"Jul\";\n        month[7] = \"Ago\";\n        month[8] = \"Sep\";\n        month[9] = \"Oct\";\n        month[10] = \"Nov\";\n        month[11] = \"Dic\";\n        //return weekday[diaSemana] + \" \"+dia + \" de \" +month[mes] + \" del \" + anio;\n        return dia + \"/\" + month[mes] + \"/\" + anio;\n\n    }\n\n\n    getTotalExtras() {\n        let extras = this.props.extras;\n        let totalDebtExtras = 0;\n        extras.forEach((value, index) => {\n            if (!value.finished && !value.canceled) {\n                if (value.remaining) {\n                    totalDebtExtras += value.remaining;\n                } else {\n                    totalDebtExtras += value.amount;\n                }\n            }\n\n        })\n\n        return totalDebtExtras;\n    }\n\n    getTotalClases() {\n        let suma = 0;\n        if (this.props.data.lesonPayed.length) {\n\n            this.props.data.lesonPayed.forEach((value, index) => {\n                suma += value.charge;\n            });\n\n        }\n        return suma;\n    }\n\n    getMesPayed() {\n        if (this.props.data.monthPayed) {\n            let splitMonth = this.props.data.monthPayed.split(\",\");\n            let mes = \"\";\n            switch (parseInt(splitMonth[1])) {\n                case 1:\n                    mes = \"Enero\";\n                    break;\n                case 2:\n                    mes = \"Febrero\";\n                    break;\n                case 3:\n                    mes = \"Marzo\";\n                    break;\n                case 4:\n                    mes = \"Abril\";\n                    break;\n                case 5:\n                    mes = \"Mayo\";\n                    break;\n                case 6:\n                    mes = \"Junio\";\n                    break;\n                case 7:\n                    mes = \"Julio\";\n                    break;\n                case 8:\n                    mes = \"Agosto\";\n                    break;\n                case 9:\n                    mes = \"Septiembre\";\n                    break;\n                case 10:\n                    mes = \"Octubre\";\n                    break;\n                case 11:\n                    mes = \"Noviembre\";\n                    break;\n                case 12:\n                    mes = \"Diciembre\";\n                    break;\n                default:\n                    mes = splitMonth[1];\n            }\n            return `${mes} de ${splitMonth[0]}`;\n        }\n\n        return \"\";\n    }\n\n\n    getTotalClasesToPay() {\n        let total = 0;\n        let totalDescuento = 0;\n        let clasesDescuentos = [];\n        if (this.props.data.datesToPrint.length) {\n            let count = 0;\n\n            this.props.data.datesToPrint.forEach((value, index) => {\n                var dateObj = new Date(value);\n                var currentDay = dateObj.getDay();\n                if (currentDay !== 4) {\n                    count += 1;\n                    total += this.props.data.student.priceLesson;\n                } else if (currentDay === 4 && count === 3) {\n                    count = 0; //Reinicia el contador\n                    total += this.props.data.student.priceLesson;\n                    // clasesDescuentos.push({\n                    //     date: value,\n                    //     monto: this.props.data.student.priceLesson\n                    // });\n                    //totalDescuento += this.props.data.student.priceLesson;\n                } else if (currentDay !== 4 && count === 3) {\n                    total += this.props.data.student.priceLesson;\n                    count = 0;\n                } else if (currentDay === 4 && count < 3) {\n                    total += this.props.data.student.priceLesson;\n                    count = 0;\n                }\n                console.log(currentDay);\n            });\n\n        }\n\n\n        return {\n            total,\n            clasesDescuentos,\n            totalDescuento\n        };\n    }\n\n    getMensualidad() {\n        let montly = 0;\n        if (this.props.data.monthPayed) {\n            montly = this.props.student.priceLesson;\n        }\n\n        return montly;\n    }\n\n    render() {\n        return (\n            <div className=\"container contentTicket\">\n                <div className=\"row ticket\">\n                    <div className=\"col s12 left-align\">\n                        <p>Academia Gladiadores</p>\n                        <p>Dirección: Calle Heroes de Tlapacoyan 315</p>\n                        <p>Tel: 225 101 8148</p>\n                        <p>Fecha:{this.plantillaFecha(new Date())}</p>\n                        <p>=================================</p>\n                    </div>\n                </div>\n                <div className=\"row ticket\">\n                    <div className=\"col s12 left-align\">\n                        <p>{this.props.student.name}</p>\n                        <p>ID: {this.props.student.consecutivo}</p>\n                        <p>=================================</p>\n                    </div>\n                </div>\n                <div className=\"row ticket\">\n                    <div className=\"col s12 left-align\">\n                        {\n                            this.props.data.datesToPrint.map((value, index) => {\n                                return (<p key={index}>Clase -- {this.plantillaFecha(value)} --- ${parseFloat(Math.round(this.props.student.priceLesson * 100) / 100).toFixed(2)}</p>)\n                            })\n                        }\n                        {\n                            this.props.data.lesonPayed.map((value, index) => {\n                                return (<p key={index}>Clase -- {this.plantillaFecha(value.assistence)} --- ${parseFloat(Math.round(value.charge * 100) / 100).toFixed(2)}</p>)\n                            })\n                        }\n                        {\n                            this.props.data.monthPayed ?\n                                <p>Mensualidad de {this.getMesPayed()} --- ${parseFloat(Math.round(this.props.student.priceLesson * 100) / 100).toFixed(2)}</p>\n                                : null\n                        }\n                        {/* {\n                            this.getTotalClasesToPay().clasesDescuentos.length ?\n                                <div>\n                                    <p>Descuento Clases======</p>\n                                    {\n                                        this.getTotalClasesToPay().clasesDescuentos.map((value, index) => {\n                                            return <p>Clase - {this.plantillaFecha(value.date)} -- (-${parseFloat(Math.round(value.monto * 100) / 100).toFixed(2)})</p>\n                                        })\n                                    }\n                                </div>\n                                : null\n                        } */}\n                        <p>=================================</p>\n                    </div>\n                </div>\n                <div className=\"row ticket\">\n                    <div className=\"col s12 left-align\">\n\n                        {\n                            this.getTotalClasesToPay().total ?\n                                <p>Total clases ----- ${parseFloat(Math.round(this.getTotalClasesToPay().total * 100) / 100).toFixed(2)} </p>\n                                : null\n                        }\n                        {/* {\n                            this.getTotalClasesToPay().totalDescuento ?\n                                <p>Descuento -- (-${parseFloat(Math.round(this.getTotalClasesToPay().totalDescuento * 100) / 100).toFixed(2)}) </p>\n                                : null\n                        } */}\n                        {\n\n                        }\n                        <p>Total ----- ${parseFloat(Math.round(((this.getTotalClasesToPay().total) + this.getTotalClases() + this.getMensualidad()) * 100) / 100).toFixed(2)}</p>\n                        <p>=================================</p>\n                    </div>\n                </div>\n                {\n                    this.getTotalExtras() > 0 ?\n                        <div className=\"row ticket\">\n                            <div className=\"col s12 left-align\">\n                                <p>Adicionales por Pagar ----  ${parseFloat(Math.round(this.getTotalExtras() * 100) / 100).toFixed(2)} </p>\n                                <p>=================================</p>\n                            </div>\n                        </div>\n                        : null\n                }\n                {\n                    this.props.totalDebtLessonsFormat !== \"$0.00\" ?\n                        <div className=\"row ticket\">\n                            <div className=\"col s12 left-align\">\n\n                                <p>Deuda Clases ---- {this.props.totalDebtLessonsFormat} </p>\n                                <p>=================================</p>\n                            </div>\n                        </div>\n                        : null\n                }\n\n                <div className=\"row ticket\">\n                    <div className=\"col s12 left-align\">\n                        <p>*Este ticket es personal y solo información de tus pagos</p>\n                        <p>*En caso de que el alumno exceda su limite de pago, nos veremos en la penosa necesidad\nde suspender tus clases.</p>\n                        <p>*Por tu comprensión gracias.!!!</p>\n                        <p>**IMPORTANTE: Este ticket no tiene valor fiscal.**</p>\n                    </div>\n                </div>\n            </div>\n\n        );\n    }\n}\n\n\nclass Abonos extends Component {\n\n    state = {\n        monthPayed: false,\n        printTicket: false,\n        student: false,\n        totalDebtLessons: 0,\n        totalDebtLessonsFormat: \"\",\n        asistenciasPorPagar: true,\n        abonar: false,\n        adicionales: false,\n        asistencias: [],\n        date: new Date(),\n        datesSelected: [],\n        datesToPrint: [],\n        reload: false,\n        errors: {},\n        years: [],\n        monthSelected: \"\",\n        yearSelected: \"\",\n        extras: [],\n        lesonPayed: []\n    }\n\n    componentDidMount() {\n        let currentDate = new Date();\n        let years = [];\n        years.push(currentDate.getFullYear());\n        years.push(currentDate.getFullYear() + 1);\n        this.setState({ years });\n    }\n\n    getExtras() {\n        let { student } = this.state;\n\n        if (student) {\n            axios.post(`${URL_API}/getExtras`, { id: student._id }).then((response) => {\n                if (response.data) {\n                    console.log(response.data);\n                    this.setState({ extras: response.data });\n                }\n            });\n        }\n    }\n\n    changeValue = (event) => {\n\n        let { id, value } = event.target;\n        let { errors } = this.state;\n        errors[id] = null;\n\n        this.setState({ [id]: value, errors }, () => {\n            let { monthSelected, yearSelected } = this.state;\n            if (monthSelected !== \"\" && yearSelected !== \"\") {\n                this.getDaysInMonth();\n            }\n        });\n    }\n\n    getTotalDebt() {\n        let { student } = this.state;\n        axios.post(`${URL_API}/getTotalDebtLessons`, { id: student._id }).then((result) => {\n            if (result.data) {\n                this.setState({\n                    totalDebtLessons: result.data.totalDebt,\n                    totalDebtLessonsFormat: `$${parseFloat(Math.round(result.data.totalDebt * 100) / 100).toFixed(2)}`\n                })\n            }\n        });\n    }\n\n    getAsistenciasPorPagar() {\n        let { student } = this.state;\n        axios.post(`${URL_API}/getLessonsNoPaid`, { id: student._id }).then((result) => {\n            if (result.data) {\n                this.setState({ asistencias: result.data.clases })\n            }\n        });\n\n    }\n\n    UNSAFE_componentWillMount() {\n\n        let { consecutivo } = this.props.match.params;\n        axios.post(`${URL_API}/getStudentByID`, { consecutivo: parseInt(consecutivo) }).then((result) => {\n\n            if (result.data) {\n                this.setState({ student: result.data }, () => {\n                    this.getTotalDebt();\n                    this.getAsistenciasPorPagar();\n                    this.getExtras();\n                });\n            } else {\n                this.props.history.push(`/dashboard`);\n\n            }\n        }).catch((error) => {\n            if (error.response) {\n                if (error.response.status === 404) {\n                    M.toast({ html: error.response.data.message, classes: \"red\" });\n                } else {\n                    M.toast({ html: error.response.data.message, classes: \"red\" });\n                }\n            } else {\n                M.toast({ html: \"No se logro recuperar la información del alumno\", classes: \"red\" });\n            }\n            this.props.history.push(`/dashboard`);\n\n        });\n\n    }\n\n    clickDate = date => {\n        let { datesSelected } = this.state;\n        //Revisa eu no este en la lista\n        let encontro = -1;\n        if (datesSelected.length) {\n\n            datesSelected.forEach((d, index) => {\n                if (d.getTime() === date.getTime()) {\n                    encontro = index;\n                }\n            });\n        }\n\n        if (encontro >= 0) {\n            datesSelected.splice(encontro, 1);\n        } else {\n            datesSelected.push(date);\n        }\n\n        console.log(datesSelected);\n\n        this.setState({ datesSelected });\n    }\n\n\n\n    render() {\n        let { totalDebtLessonsFormat, totalDebtLessons, student, printTicket, asistenciasPorPagar, datesSelected, datesToPrint, adicionales, errors, monthSelected, yearSelected, years, extras } = this.state;\n        return (\n            <div className=\"container\">\n                <div className=\"row mt-1\">\n                    <div className=\"col s12 m3 l3 xl3 align-left\">\n                        {\n                            student.image === \"null\" ?\n                                <img src={logoSinImagen} alt={student.name} className=\"responsive-img circle img-r\" />\n                                :\n                                <img src={student.image} alt={student.name} className=\"responsive-img img-r\" />\n\n                        }\n\n                    </div>\n                    <div className=\"col s12 m9 l9 xl9\">\n                        <h5>{student.name}</h5>\n                        {\n                            totalDebtLessons > 0 ?\n                                <p style={{ maxWidth: \"400px\" }}>\n                                    Deuda Clases:\n                                    <span className={\n                                        totalDebtLessons >= student.debtLimit ?\n                                            \"badge red white-text\" : \"badge green white-text\"\n                                    }\n                                    >{totalDebtLessonsFormat}</span>\n                                </p>\n                                : null\n                        }\n                        <p style={{ maxWidth: \"400px\" }}>\n                            Costo\n                                    {\n                                student.methodPayment === 3 ?\n                                    \" Clase\" : \" Mensualidad\"\n                            }\n                            :\n                                    <span className=\"badge green white-text\"\n\n                            >{`$${parseFloat(Math.round(student.priceLesson * 100) / 100).toFixed(2)}`}</span>\n                        </p>\n\n                    </div>\n                    <div className=\"col s12\">\n                        <div className=\"divider\"></div>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col s12\">\n                        <button className=\"btn\"\n                            onClick={() => {\n                                if (student.methodPayment === 1 && this.state.abonar) {\n                                    M.FormSelect.getInstance(document.getElementById('monthSelected')).destroy();\n                                    M.FormSelect.getInstance(document.getElementById('yearSelected')).destroy();\n\n                                }\n\n                                this.setState({ asistenciasPorPagar: true, abonar: false, adicionales: false, printTicket: false }, () => {\n                                    this.getAsistenciasPorPagar();\n                                })\n                            }}\n                        >Por Pagar</button>\n                        <button className=\"btn ml-1\" onClick={() => {\n                            this.setState({ asistenciasPorPagar: false, adicionales: false, abonar: true, printTicket: false, lesonPayed: [], monthPayed: false }, () => {\n                                if (student.methodPayment === 1) {\n                                    M.FormSelect.init(document.querySelectorAll('select'), {\n                                    });\n                                }\n                            })\n                        }}>Abonar</button>\n                        <button className=\"btn ml-1\" onClick={() => { this.setState({ asistenciasPorPagar: false, abonar: false, adicionales: true, printTicket: false }) }}>Adicionales</button>\n                    </div>\n                </div>\n\n                {\n                    !adicionales ?\n                        asistenciasPorPagar ?\n                            this.asistenciasPorPagarCmp()\n                            :\n                            student.methodPayment === 3 ?\n\n                                <div className=\"row\">\n                                    <div className=\"col s12\">\n                                        <h6>Elija las fechas a abonar:</h6>\n                                    </div>\n                                    <div className=\"col s12\">\n                                        <div className=\"divider\"></div>\n                                    </div>\n                                    <div className=\"col s12 l6 xl6 mt-1\">\n                                        <Calendar\n                                            defaultValue={this.state.datesSelected}\n                                            onClickDay={this.clickDate}\n                                            returnValue=\"start\"\n                                            value={this.state.date}\n                                            tileDisabled={({ activeStartDate, date, view }) => (date.getDay() === 5 || date.getDay() === 6 || date.getDay() === 0) && (view === \"month\")\n                                            }\n                                            tileClassName={({ activeStartDate, date, view }) => {\n                                                if (view === \"month\") {\n                                                    for (var d of this.state.datesSelected) {\n                                                        if (d.getTime() === date.getTime()) {\n                                                            return \"red white-text\"\n                                                        }\n                                                    }\n                                                }\n                                            }}\n                                        />\n                                    </div>\n                                    {\n                                        datesSelected.length ?\n\n                                            <div className=\"col s12 l6 xl6 mt-1\">\n                                                <p>\n                                                    Costo: {`$${parseFloat(Math.round(student.priceLesson * 100) / 100).toFixed(2)}`}\n                                                </p>\n                                                <p>\n                                                    Total:  {`$${parseFloat(Math.round((student.priceLesson * datesSelected.length) * 100) / 100).toFixed(2)}`}\n                                                </p>\n                                                <button className=\"btn\" onClick={this.abonarDates}>Abonar</button>\n                                            </div>\n\n                                            : null\n\n                                    }\n\n                                    {\n                                        datesToPrint.length && printTicket ?\n\n                                            <div className=\"col s12 m6 l6 xl6\">\n                                                <ReactToPrint\n                                                    trigger={() => <a href=\"#!\">Imprimir Ticket</a>}\n                                                    content={() => this.componentRef}\n                                                />\n                                                <ComponentToPrint ref={el => (this.componentRef = el)}\n                                                    data={this.state} student={student}\n                                                    extras={extras} \n                                                    totalDebtLessonsFormat={totalDebtLessonsFormat}\n                                                />\n\n                                            </div>\n\n                                            : null\n                                    }\n\n\n                                </div>\n                                :\n                                <div className=\"row\">\n                                    <div className=\"col s12\">\n                                        <h6>Elija el mes a abonar:</h6>\n                                    </div>\n                                    <div className=\"col s12\">\n                                        <div className=\"divider\"></div>\n                                    </div>\n                                    <div className=\"input-field col s4\">\n                                        <select onChange={this.changeValue} id=\"monthSelected\"\n                                            className={`${errors.monthSelected ? \"invalid\" : \"\"} `}\n                                            value={monthSelected}\n                                        >\n                                            <option value=\"\">Elija una opción</option>\n                                            <option value=\"1\">Enero</option>\n                                            <option value=\"2\">Febrero</option>\n                                            <option value=\"3\">Marzo</option>\n                                            <option value=\"4\">Abril</option>\n                                            <option value=\"5\">Mayo</option>\n                                            <option value=\"6\">Junio</option>\n                                            <option value=\"7\">Julio</option>\n                                            <option value=\"8\">Agosto</option>\n                                            <option value=\"9\">Septiembre</option>\n                                            <option value=\"10\">Octubre</option>\n                                            <option value=\"11\">Noviembre</option>\n                                            <option value=\"12\">Diciembre</option>\n                                        </select>\n                                        <span className=\"red-text\">{errors.month}</span>\n                                    </div>\n                                    <div className=\"input-field col s4\">\n                                        <select onChange={this.changeValue} id=\"yearSelected\"\n                                            className={`${errors.yearSelected ? \"invalid\" : \"\"} `}\n                                            value={yearSelected}\n                                        >\n                                            <option value=\"\">Elija una opción</option>\n                                            {\n                                                years.map((value, index) => {\n                                                    return (\n                                                        <option value={value}\n                                                            key={index}\n                                                        >{value}</option>\n                                                    )\n                                                })\n                                            }\n                                        </select>\n                                        <span className=\"red-text\">{errors.yearSelected}</span>\n                                    </div>\n\n                                    <div className=\"col s4 mt-1\">\n                                        {\n                                            datesSelected.length ?\n                                                <button className=\"btn\" onClick={this.payMonth}>Abonar</button>\n                                                : null\n                                        }\n                                    </div>\n                                    {\n                                        this.state.monthPayed && this.state.abonar ?\n                                            <div className=\"col s12 m6 l6 xl6\">\n                                                <ReactToPrint\n                                                    trigger={() => <a href=\"#!\">Imprimir Ticket</a>}\n                                                    content={() => this.componentLeson}\n                                                />\n                                                <ComponentToPrint ref={el => (this.componentLeson = el)}\n                                                    data={this.state} student={student}\n                                                    extras={extras}\n                                                    totalDebtLessonsFormat={totalDebtLessonsFormat}\n                                                />\n\n                                            </div>\n\n                                            : null\n                                    }\n                                </div>\n                        : null\n                }\n\n\n\n                {\n                    adicionales && student ?\n                        <React.Fragment>\n                            <AbonoForm student={student} reloadExtras={this.realoadExtras} reload={this.state.reload} />\n                            <Adicionales student={student} reload={this.state.reload} reloadExtras={this.realoadExtras} />\n                        </React.Fragment>\n\n\n                        : null\n                }\n            </div>\n        )\n    }\n\n    abonarDates = async () => {\n        let { student, datesSelected } = this.state;\n        //Lo acomoda de menor a mayor\n        datesSelected.sort((a, b) => {\n            return a > b ? -1 : a < b ? 1 : 0;\n        }).reverse();\n\n        let datesToPrint = [];\n\n        for (var d of datesSelected) {\n\n            var month = d.getUTCMonth() + 1; //months from 1-12\n            var day = d.getDate();\n            var year = d.getUTCFullYear();\n\n            let dateAssistance = new Date(year + \"/\" + month + \"/\" + day);\n            let data = {\n                \"id\": student._id,\n                \"priceLesson\": student.priceLesson,\n                \"priceWeekend\": PRICE_WEEKEND,\n                \"assisted\": false,\n                \"paidOut\": true,\n                \"date\": dateAssistance,\n                \"isAbono\": true\n            }\n            try {\n                let response = await axios.post(`${URL_API}/addAssistance`, data);\n                if (response) {\n                    this.getTotalDebt();\n                    M.toast({ html: \"Se pago la clase correctamente\", classes: \"green\" });\n                }\n                datesToPrint.push(dateAssistance);\n            } catch (error) {\n                if (error.response) {\n                    M.toast({ html: error.response.data.message, classes: \"red\" });\n                }\n            }\n\n        }\n\n        this.setState({ datesSelected: [], printTicket: true, datesToPrint });\n    }\n\n    payLesson = (lesson) => {\n        let { lesonPayed } = this.state;\n        axios.post(`${URL_API}/payLesson`, { id: lesson._id }).then((result) => {\n\n            M.toast({ html: result.data.message, classes: \"green\" });\n            this.getAsistenciasPorPagar();\n            this.getTotalDebt();\n            this.getExtras();\n            lesonPayed.push(lesson);\n\n            this.setState({ lesonPayed, printTicket: lesonPayed.length ? true : false });\n\n        }).catch((error) => {\n            if (error.response) {\n\n                M.toast({ html: error.response.data.message, classes: \"red\" });\n\n            } else {\n                M.toast({ html: \"No se logro recuperar la información del alumno\", classes: \"red\" });\n            }\n        })\n    }\n\n    realoadExtras = () => {\n        this.setState({ reload: true });\n    }\n\n    asistenciasPorPagarCmp() {\n\n        let { asistencias, lesonPayed, printTicket, student, extras,totalDebtLessonsFormat } = this.state;\n\n        return (\n            <div className=\"row\">\n                <div className=\"col s12\">\n                    <h6>Por Pagar</h6>\n                </div>\n                <div className=\"col s12\">\n                    <div className=\"divider\"></div>\n                </div>\n                <div className=\"col s12 m6 l6 xl6\">\n\n                    {\n                        asistencias.length ?\n\n                            <ul className=\"collection\">\n                                {\n                                    asistencias.map((value, index) => {\n                                        let f = new Date(value.assistence);\n                                        let format = DIAS[f.getDay()] + \" \" + f.getDate() + \" de \" + MESES[f.getMonth()] + \" del \" + f.getFullYear() + \" \";\n                                        return (\n                                            <li className=\"collection-item\" key={value._id}><div>{format}\n                                                <div className=\"secondary-content\">\n                                                    <i className=\"material-icons right waves-effect\"\n                                                        onClick={() => {\n                                                            this.payLesson(value);\n                                                        }}\n                                                    >send</i>\n                                                    {`$${parseFloat(Math.round(value.charge * 100) / 100).toFixed(2)}`} Pagar\n                                                </div>\n                                            </div></li>\n                                        )\n                                    })\n                                }\n                            </ul>\n                            :\n                            <h4>No cuenta con asistencias por pagar.\n                            <i className=\"material-icons green-text right\">check_circle</i>\n                            </h4>\n                    }\n                </div>\n                <div className=\"col s12 m6 l6 xl6\">\n                    {\n                        lesonPayed.length && printTicket ?\n                            <div>\n                                <ReactToPrint\n                                    trigger={() => <a href=\"#!\">Imprimir Ticket</a>}\n                                    content={() => this.componentLeson}\n                                />\n                                <ComponentToPrint ref={el => (this.componentLeson = el)}\n                                    data={this.state} student={student}\n                                    extras={extras}\n                                    totalDebtLessonsFormat={totalDebtLessonsFormat}\n                                />\n\n                            </div>\n\n                            : null\n                    }\n                </div>\n\n            </div>\n        )\n    }\n\n    payMonth = () => {\n\n        let { yearSelected, monthSelected, student } = this.state;\n        if (yearSelected.trim() !== \"\" && monthSelected.trim() !== \"\") {\n            axios.post(`${URL_API}/payMonth`, {\n                id: student._id, payment: student.priceLesson,\n                month: monthSelected, year: yearSelected\n            }).then((result) => {\n                if (result.data) {\n                    M.toast({ html: result.data.message, classes: \"green\" });\n\n                    this.setState({ yearSelected: \"\", monthSelected: \"\", monthPayed: `${yearSelected},${monthSelected}` });\n                }\n            }).catch((error) => {\n                if (error.response) {\n                    M.toast({ html: error.response.data.message, classes: \"red\" });\n                } else {\n                    M.toast({ html: \"No se logro aplicar la mensualidad.\", classes: \"red\" });\n                }\n            });\n        }\n    }\n\n    getDaysInMonth = () => {\n\n        let { monthSelected, yearSelected } = this.state;\n        let month = monthSelected;\n        if (monthSelected < 10) {\n            month = \"0\" + monthSelected;\n        }\n        let date = new Date(yearSelected + \"/\" + month + \"/01\");\n        // var date = new Date(Date.UTC(yearSelected, monthSelected, 1));\n        var days = [];\n        while (date.getMonth() + 1 === parseInt(monthSelected)) {\n            let dateToPush = new Date(date);\n\n            if (CLASS_DAYS.indexOf(dateToPush.getDay()) >= 0) {\n                days.push(dateToPush);\n            }\n            date.setDate(date.getDate() + 1);\n        }\n\n        this.setState({ datesSelected: days });\n    }\n\n}\n\n\nexport default Abonos;","import React, { Component } from 'react';\nimport { URL_API, validateEmail } from '../properties';\nimport axios from 'axios';\nimport M from 'materialize-css';\n\nclass UsersApp extends Component {\n\n    state = {\n        users: [],\n        current: false,\n        errors: {},\n        name: \"\",\n        surname: \"\",\n        password: \"\",\n        email: \"\",\n        role: \"\",\n        id: false\n    }\n\n\n\n    changeValue = (event) => {\n        let { value, id } = event.target;\n        let { errors } = this.state;\n        errors[id] = null;\n        this.setState({ [id]: value, errors });\n    }\n\n    componentDidMount() {\n        let user = localStorage.getItem('user');\n        if (user) {\n            console.log(user);\n            this.setState({ current: JSON.parse(user) });\n        }\n        this.getUsers();\n    }\n\n    getUsers = () => {\n        axios.get(`${URL_API}/getUsersApp`).then((rs) => {\n            debugger;\n            this.setState({ users: rs.data }, () => {\n                M.FormSelect.init(document.querySelectorAll('select'), {});\n            });\n        }).catch((err) => {\n            console.log(err);\n            if (err.response.data) {\n                M.toast({ html: `${err.response.data.message}`, classes: \"red white-text\" });\n            } else {\n                M.toast({ html: \"Ocurrio un error inesperado al consultar los usuarios.\", classes: \"red white-text\" });\n            }\n        })\n    }\n\n    render() {\n        let { users, current, name, surname, email, password, role, errors, id } = this.state;\n        return (\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col s12 mt-1\">\n                        <h4>Usuarios</h4>\n                    </div>\n                    <div className=\"col s12\">\n                        <div className=\"divider\"></div>\n                    </div>\n                    <div className=\"col s12 m6 l6 xl6\">\n                        {\n                            users.length ?\n                                <table>\n                                    <thead>\n                                        <tr>\n                                            <th>Nombre</th>\n                                            <th>Correo</th>\n                                            <th>Rol</th>\n                                            <th>Acciones</th>\n                                        </tr>\n                                    </thead>\n\n                                    <tbody>\n                                        {\n                                            users.map((value, index) => {\n\n                                                return (<tr key={index}>\n                                                    <td>\n                                                        {value.name + \" \" + value.surname}\n                                                    </td>\n                                                    <td>\n                                                        {value.email}\n                                                    </td>\n                                                    <td>\n                                                        {value.role === \"ROLE_ADMIN\" ? \"Administrador\" : \"Checador\"}\n                                                    </td>\n                                                    <td>\n                                                        <i className=\"material-icons green-text cursor_p waves-effect\"\n                                                            onClick={() => {\n                                                                this.setState({\n                                                                    name: value.name,\n                                                                    surname: value.surname,\n                                                                    email: value.email,\n                                                                    role: value.role,\n                                                                    id: value._id\n                                                                }, () => {\n                                                                    M.FormSelect.init(document.querySelectorAll('select'), {});\n                                                                    M.updateTextFields();\n                                                                })\n                                                            }}\n                                                        >edit</i>\n                                                        {\n                                                            current.email !== value.email ? <i className=\"material-icons red-text cursor_p waves-effect\">delete_forever</i>\n                                                                : null\n                                                        }\n\n                                                    </td>\n                                                </tr>)\n\n                                            })\n                                        }\n                                    </tbody>\n                                </table>\n\n                                : null\n                        }\n                    </div>\n                    <div className=\"col s12 m6 l6 xl6\">\n                        <form className=\"row z-depth-2\" onSubmit={this.submitUser}>\n                            <div class=\"input-field col s6\">\n                                <input id=\"name\" type=\"text\"\n                                    className={`${errors.name ? \"invalid\" : \"\"} `}\n                                    onChange={this.changeValue} value={name}\n                                />\n                                <label htmlFor=\"name\">Nombre</label>\n                                <span className=\"helper-text\" data-error={errors.name}></span>\n                            </div>\n                            <div class=\"input-field col s6\">\n                                <input id=\"surname\" type=\"text\"\n                                    className={`${errors.surname ? \"invalid\" : \"\"} `}\n                                    onChange={this.changeValue} value={surname}\n                                />\n                                <label htmlFor=\"surname\">Apellidos</label>\n                                <span className=\"helper-text\" data-error={errors.surname}></span>\n                            </div>\n                            <div class=\"input-field col s12\">\n                                <input id=\"email\" type=\"text\"\n                                    disabled={id}\n                                    className={`${errors.email ? \"invalid\" : \"\"} `}\n                                    onChange={this.changeValue} value={email}\n                                />\n                                <label htmlFor=\"email\">Correo electrónico</label>\n                                <span className=\"helper-text\" data-error={errors.email}></span>\n                            </div>\n                            <div class=\"input-field col s12\">\n                                <input id=\"password\" type=\"password\"\n                                    className={`${errors.password ? \"invalid\" : \"\"} `}\n                                    onChange={this.changeValue} value={password}\n                                />\n                                <label htmlFor=\"password\">Contraseña</label>\n                                <span className=\"helper-text\" data-error={errors.password}></span>\n                            </div>\n                            <div className=\"input-field col s12\">\n                                <select onChange={this.changeValue} id=\"role\" value={role}\n                                    className={`${errors.role ? \"invalid\" : \"\"} `}\n                                >\n                                    <option value=\"\">Elije el Rol</option>\n                                    <option value=\"ROLE_ADMIN\">Administrador</option>\n                                    <option value=\"ROLE_CHECK\">Checador</option>\n                                </select>\n                                <label>Rol</label>\n                                <span className=\"helper-text red-text\" >{errors.role}</span>\n                            </div>\n                            <div className={`col ${id?`s6`:`s12`} center-align`}>\n                                <button className=\"btn\">Guardar</button>\n                            </div>\n                            {\n                                id ?\n                                    <div className={`col s6 center-align`}>\n                                        <button className=\"btn red\" type=\"button\" onClick={() => {\n                                            this.setState({\n                                                name: \"\",\n                                                surname: \"\",\n                                                email: \"\",\n                                                password: \"\",\n                                                role: \"\",\n                                                id: false\n                                            },()=>{\n                                                M.updateTextFields();\n                                                M.FormSelect.init(document.querySelectorAll('select'), {});\n                                            });\n                                        }}>Cancelar</button>\n                                    </div>\n                                    : null\n                            }\n\n                            <div className=\"col s12 mt-1\">\n\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n\n        )\n    }\n\n    submitUser = (event) => {\n        event.preventDefault();\n        let { name, surname, email, password, role, errors, id } = this.state;\n        let valido = true;\n        if (name.trim() === \"\") {\n            errors.name = \"Ingrese el nombre del usuarios.\";\n            valido = false;\n        }\n\n        if (surname.trim() === \"\") {\n            errors.surname = \"Ingrese los apellidos del usuario.\";\n            valido = false;\n        }\n\n        if (email.trim() === \"\") {\n            errors.email = \"Ingrese el correo electrónico.\";\n            valido = false;\n        } else {\n            if (!validateEmail(email.trim())) {\n                errors.email = \"Ingrese un correo electrónico válido.\";\n                valido = false;\n            }\n        }\n\n        if (password.trim() === \"\") {\n            errors.password = \"Ingrese la contraseña del usuario.\";\n            valido = false;\n        }\n\n        if (role.trim() === \"\") {\n            errors.role = \"Seleccione el rol del usuario.\";\n            valido = false;\n        }\n\n        if (valido) {\n\n            let url = `${URL_API}/register`;\n\n\n\n            let data = {\n                name: name.trim(),\n                surname: surname.trim(),\n                email: email.toLowerCase().trim(),\n                password: password.trim(),\n                rol: role\n            }\n            debugger;\n            if (id) {\n                url = `${URL_API}/update-user/${id}`;\n            }\n\n            axios.post(url, data).then(rs => {\n\n                this.setState({\n                    id: false,\n                    name: \"\",\n                    surname: \"\",\n                    email: \"\",\n                    password: \"\",\n                    role: \"\"\n                }, () => {\n                    this.getUsers();\n                    if (id) {\n                        M.toast({ html: `Usuario actualizado exitosamente.`, classes: \"green white-text\" });\n                    } else {\n                        M.toast({ html: `Usuario registrado exitosamente.`, classes: \"green white-text\" });\n                    }\n\n                });\n\n            }).catch((err) => {\n                if (err.response.data) {\n                    M.toast({ html: `${err.response.data.message}`, classes: \"red white-text\" });\n                } else {\n                    M.toast({ html: \"Ocurrio un error inesperado al consultar los usuarios.\", classes: \"red white-text\" });\n                }\n            });\n        } else {\n            this.setState({ errors });\n        }\n    }\n}\n\n\nexport default UsersApp;","import React, { Component } from 'react';\nimport Calendar from 'react-calendar';\nimport {URL_API} from '../properties';\nimport axios from 'axios';\nimport M from 'materialize-css';\nclass Cortes extends Component {\n\n\n    state = {\n        dates : [],\n        resultados:[]\n    }\n\n    onChange = (date) =>{\n        console.log(date);\n        this.setState({ dates:date,resultados:[] },()=>{\n            this.getData();\n        })\n    }\n\n    getData = () =>{\n        let {dates} = this.state;\n\n        let data ={\n            from: dates[0],\n            to:dates[1]\n        }\n        axios.post(`${URL_API}/getAllPaymentsCharges`,data).then((rs)=>{\n            console.log(rs);\n            this.setState({resultados:rs.data});\n        }).catch((err)=>{\n            if (err.response.data) {\n                M.toast({ html: `${err.response.data.message}`, classes: \"red white-text\" });\n            } else {\n                M.toast({ html: \"Ocurrio un error inesperado al consultar los usuarios.\", classes: \"red white-text\" });\n            }\n        })\n    }\n\n    descarga = () =>{\n        let {dates,resultados} = this.state;\n        let from = dates[0].getFullYear() + \"/\"+(dates[0].getMonth()+1)+\"/\"+dates[0].getDate();\n        let to = dates[1].getFullYear() + \"/\"+(dates[1].getMonth()+1)+\"/\"+dates[1].getDate();\n        console.log(from);\n        console.log(to);\n        axios.post(`${URL_API}/pdfPaymentsCharges`,{data:resultados,from,to},{responseType:'blob'}).then((rs)=>{\n            console.log(rs);\n            const url = window.URL.createObjectURL(new Blob([rs.data]));\n            const link = document.createElement('a');\n            link.href = url;\n            link.setAttribute('download', 'cortegenerado.pdf'); //or any other extension\n            document.body.appendChild(link);\n            link.click();\n        }).catch((err)=>{\n            debugger;\n            if (err.response && err.response.data) {\n                M.toast({ html: `${err.response.data.message}`, classes: \"red white-text\" });\n            } else {\n                M.toast({ html: \"Ocurrio un error inesperado al consultar los usuarios.\", classes: \"red white-text\" });\n            }\n        })\n    }\n\n    render() {\n        let {resultados} = this.state;\n        return (\n            <div className=\"container\">\n                <div className=\"row mt-1\">\n                    <div className=\"col s12\">\n                        <h5>Cortes de Caja</h5>\n                    </div>\n                    <div className=\"col s12\">\n                        <div className=\"divider\"></div>\n                    </div>\n                    <div className=\"col s12\">\n                        <span className=\"helper-text\">\n                            Selecciona un rango de fechas para obtener el resultado\n                            de abonos.\n                            </span>\n                    </div>\n                    {\n                        resultados.length ? \n                        <div className=\"col s12 mt-1\">\n                            <button className=\"btn\" onClick={this.descarga}>Descargar Resultados</button>\n                        </div>: null\n                    }\n\n                    <div className=\"col s12 mt-1\">\n                        <Calendar \n                         onChange={this.onChange}\n                         returnValue={\"range\"}\n                         selectRange={true}\n                        />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Cortes;","import React, { Component } from 'react';\nimport { Link, Switch, Route } from 'react-router-dom'\nimport M from 'materialize-css';\nimport logo from '../assets/logoAcademia.jpg';\n\n\n\nimport BuscaAlumno from './buscaAlumno.cmpt';\nimport ListAlumnos from './listaAlumnos.cmpt';\nimport InfoAlumno from './informacionAlumno.cmpt';\nimport Abonos from './abonos.cmpt';\nimport UsersApp from './usersApp.cmpt';\nimport Cortes from './cortes.cmpt';\n//import AbonoForm from './abonoForm.cmpt';\nclass Dashboard extends Component {\n\n    state = {\n        user: {}\n    }\n\n    componentDidMount = () => {\n        let elems = document.querySelectorAll('.sidenav');\n        M.Sidenav.init(elems, {});\n        let isLogin = localStorage.getItem('user');\n        if (isLogin) {\n            let user = JSON.parse(isLogin);\n            this.setState({ user });\n        }\n    }\n\n    render() {\n        let { user } = this.state;\n        let { match } = this.props;\n        return (\n\n            <React.Fragment>\n                <nav className=\"grey darken-4\">\n                    <div className=\"nav-wrapper\">\n                        <Link to=\"/dashboard\" className=\"brand-logo\">\n                            Administración\n                        </Link>\n                        <a href=\"!#\" data-target=\"sidenav\" className=\"right sidenav-trigger\"><i className=\"material-icons\">menu</i></a>\n                        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n                            {\n                                user.rol === \"ROLE_ADMIN\" ? <li><Link to={`${match.path}/usersApp`}>Administradores</Link></li> : null}\n                            {\n                                user.rol === \"ROLE_ADMIN\" ? <li><Link to={`${match.path}/alumnos`}>Alumnos</Link></li> : null}\n                            {\n                                user.rol === \"ROLE_ADMIN\" ? <li><Link to={`${match.path}/cortes`}>Cortes</Link></li> : null}\n                            <li><a href=\"!#\" onClick={() => {\n                                localStorage.removeItem('user');\n                                this.props.history.push('/');\n                            }}>Salir</a></li>\n                        </ul>\n                    </div>\n                </nav>\n\n                <ul className=\"sidenav\" id=\"sidenav\">\n                    <li><div className=\"user-view\">\n                        <div className=\"background\">\n                            <img src={logo} alt=\"back\" />\n                        </div>\n                        <a href=\"#user\"><img className=\"circle\" src={logo} alt={user.rol}></img></a>\n                        <a href=\"#name\"><span className=\"white-text name\">{user.name}</span></a>\n                        <a href=\"#email\"><span className=\"white-text email\">{user.email}</span></a>\n\n                    </div></li>\n                    <li><div className=\"divider\"></div></li>\n                    {user.rol === \"ROLE_ADMIN\" ? <li><Link to={`${match.path}/usersApp`}>Administradores</Link></li> : null}\n                    {user.rol === \"ROLE_ADMIN\" ? <li><Link to={`${match.path}/alumnos`}>Alumnos</Link></li> : null}\n                    {user.rol === \"ROLE_ADMIN\" ? <li><Link to={`${match.path}/cortes`}>Cortes</Link></li> : null}\n                    <li><a href=\"!#\" onClick={() => {\n                        localStorage.removeItem('user');\n                        this.props.history.push('/');\n                    }}>Salir</a></li>\n                </ul>\n                {user.role}\n\n                <Switch>\n\n                    {\n                        user.rol === \"ROLE_ADMIN\" ?\n                            <Route path=\"/dashboard/mas/:consecutivo\" component={InfoAlumno} />\n                            : null\n                    }\n                    {\n                        user.rol === \"ROLE_ADMIN\" ?\n                            <Route path=\"/dashboard/usersApp\" component={UsersApp} />\n                            : null\n                    }\n                    {\n                        user.rol === \"ROLE_ADMIN\" ?\n                            <Route path=\"/dashboard/abonos/:consecutivo\" component={Abonos} />\n                            : null\n                    }\n                    {\n                        user.rol === \"ROLE_ADMIN\" ?\n                            <Route path=\"/dashboard/alumnos\" component={ListAlumnos} />\n                            : null\n                    }\n\n                    {\n                        user.rol === \"ROLE_ADMIN\" ?\n                            <Route path=\"/dashboard/cortes\" component={Cortes} />\n                            : null\n                    }\n                    <Route path=\"/dashboard\" component={BuscaAlumno} />\n\n                </Switch>\n            </React.Fragment>\n        )\n    }\n}\n\n\nexport default Dashboard;","import React from 'react';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport './App.css';\n\n\nimport Login from './components/login.cmpt';\nimport Dashboard from './components/dashboard.cmpt';\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/dashboard\" component={Dashboard} />\n         <Route path=\"/\" component={Login} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'materialize-css/dist/css/materialize.min.css'\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logoAcademia.422fcd2f.jpg\";"],"sourceRoot":""}